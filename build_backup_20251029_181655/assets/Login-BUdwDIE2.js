var e=Object.defineProperty,t=Object.defineProperties,r=Object.getOwnPropertyDescriptors,a=Object.getOwnPropertySymbols,s=Object.prototype.hasOwnProperty,l=Object.prototype.propertyIsEnumerable,o=(t,r,a)=>r in t?e(t,r,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[r]=a,n=(e,t,r)=>new Promise((a,s)=>{var l=e=>{try{n(r.next(e))}catch(t){s(t)}},o=e=>{try{n(r.throw(e))}catch(t){s(t)}},n=e=>e.done?a(e.value):Promise.resolve(e.value).then(l,o);n((r=r.apply(e,t)).next())});import{c as i,u as d,j as c,C as m}from"./index-xawegGrD.js";import{u as x,b as u,L as h}from"./react-vendor-DvHQdeg3.js";import{L as b}from"./Layout-BYhxbONT.js";import{L as p}from"./lock-Cuc1IVuG.js";import{M as g}from"./mail-BGEMvutf.js";import"./utils-BQl1bh9w.js";import"./log-out-CB36XT7W.js";import"./menu-DEqI4ALZ.js";
/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f=i("log-in",[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]]);function y(){const e=x(),{login:i,login2FA:y,error:j,clearError:w}=d(),[v,N]=u.useState({email:"",password:""}),[k,S]=u.useState(!1),[O,P]=u.useState(null),[L,C]=u.useState(""),[E,F]=u.useState(!1),q=e=>{var n,i;N((n=((e,t)=>{for(var r in t||(t={}))s.call(t,r)&&o(e,r,t[r]);if(a)for(var r of a(t))l.call(t,r)&&o(e,r,t[r]);return e})({},v),i={[e.target.name]:e.target.value},t(n,r(i)))),w()},A=t=>n(null,null,function*(){var r;t.preventDefault(),F(!0);try{const t=(null==(r=(yield y(O,L)).user)?void 0:r.role)||"user";e("supermaster"===t||"admin_master"===t||"master"===t?"/admin":"agent"===t?"/agent":"user"===t?"/":"/dashboard")}catch(a){}finally{F(!1)}});return k?c.jsx(b,{children:c.jsx("div",{className:"min-h-[calc(100vh-200px)] flex items-center justify-center px-4 py-12 bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900",children:c.jsx("div",{className:"max-w-md w-full",children:c.jsxs("div",{className:"bg-slate-800/50 backdrop-blur-xl border border-white/10 rounded-2xl shadow-2xl p-8",children:[c.jsxs("div",{className:"text-center mb-8",children:[c.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-gradient-to-br from-cyan-500/20 to-teal-500/20 rounded-full mb-4 border border-cyan-500/30",children:c.jsx(p,{className:"w-8 h-8 text-cyan-400"})}),c.jsx("h2",{className:"text-2xl font-bold text-white",children:"Two-Factor Authentication"}),c.jsx("p",{className:"text-gray-400 mt-2",children:"Enter the 6-digit code from your authenticator app"})]}),j&&c.jsxs("div",{className:"mb-4 p-4 bg-red-500/10 border border-red-500/30 rounded-lg flex items-start gap-3",children:[c.jsx(m,{className:"w-5 h-5 text-red-400 flex-shrink-0 mt-0.5"}),c.jsx("p",{className:"text-sm text-red-300",children:j})]}),c.jsxs("form",{onSubmit:A,className:"space-y-6",children:[c.jsx("div",{children:c.jsx("input",{type:"text",value:L,onChange:e=>{C(e.target.value),w()},placeholder:"000000",maxLength:"6",className:"w-full px-4 py-3 bg-slate-900/50 border border-white/10 rounded-lg focus:ring-2 focus:ring-cyan-500 focus:border-transparent text-center text-2xl tracking-widest text-white placeholder-gray-500",required:!0,autoFocus:!0})}),c.jsx("button",{type:"submit",disabled:E||6!==L.length,className:"w-full bg-gradient-to-r from-cyan-500 to-teal-500 text-white py-3 px-4 rounded-lg font-semibold hover:from-cyan-600 hover:to-teal-600 transition-all shadow-lg shadow-cyan-500/30 disabled:opacity-50 disabled:cursor-not-allowed",children:E?"Verifying...":"Verify"}),c.jsx("button",{type:"button",onClick:()=>{S(!1),C(""),w()},className:"w-full bg-slate-700/50 text-gray-300 py-3 px-4 rounded-lg font-semibold hover:bg-slate-700 transition-colors border border-white/10",children:"Back to Login"})]})]})})})}):c.jsx(b,{children:c.jsx("div",{className:"min-h-[calc(100vh-200px)] flex items-center justify-center px-4 py-12 bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900",children:c.jsxs("div",{className:"max-w-md w-full",children:[c.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[c.jsx("div",{className:"absolute top-1/4 left-1/4 w-96 h-96 bg-cyan-500/10 rounded-full blur-3xl"}),c.jsx("div",{className:"absolute bottom-1/4 right-1/4 w-96 h-96 bg-teal-500/10 rounded-full blur-3xl"})]}),c.jsxs("div",{className:"relative bg-slate-800/50 backdrop-blur-xl border border-white/10 rounded-2xl shadow-2xl p-8",children:[c.jsxs("div",{className:"text-center mb-8",children:[c.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-gradient-to-br from-cyan-500 to-teal-500 rounded-full mb-4 shadow-lg shadow-cyan-500/30",children:c.jsx(f,{className:"w-8 h-8 text-white"})}),c.jsx("h2",{className:"text-3xl font-bold text-white",children:"Welcome Back"}),c.jsx("p",{className:"text-gray-400 mt-2",children:"Sign in to your MarketEdgePros account"})]}),j&&c.jsxs("div",{className:"mb-4 p-4 bg-red-500/10 border border-red-500/30 rounded-lg flex items-start gap-3",children:[c.jsx(m,{className:"w-5 h-5 text-red-400 flex-shrink-0 mt-0.5"}),c.jsx("p",{className:"text-sm text-red-300",children:j})]}),c.jsxs("form",{onSubmit:t=>n(null,null,function*(){var r;t.preventDefault(),F(!0);try{const t=yield i(v.email,v.password);if(t.requires2FA)S(!0),P(t.userId);else{const a=(null==(r=t.user)?void 0:r.role)||"user";e("supermaster"===a||"admin_master"===a||"master"===a?"/admin":"agent"===a?"/agent":"user"===a?"/":"/dashboard")}}catch(a){}finally{F(!1)}}),className:"space-y-6",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Email Address"}),c.jsxs("div",{className:"relative",children:[c.jsx(g,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),c.jsx("input",{type:"email",name:"email",value:v.email,onChange:q,placeholder:"you@example.com",className:"w-full pl-10 pr-4 py-3 bg-slate-900/50 border border-white/10 rounded-lg focus:ring-2 focus:ring-cyan-500 focus:border-transparent text-white placeholder-gray-500",required:!0})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Password"}),c.jsxs("div",{className:"relative",children:[c.jsx(p,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),c.jsx("input",{type:"password",name:"password",value:v.password,onChange:q,placeholder:"••••••••",className:"w-full pl-10 pr-4 py-3 bg-slate-900/50 border border-white/10 rounded-lg focus:ring-2 focus:ring-cyan-500 focus:border-transparent text-white placeholder-gray-500",required:!0})]})]}),c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("label",{className:"flex items-center",children:[c.jsx("input",{type:"checkbox",className:"rounded border-gray-600 bg-slate-900/50 text-cyan-500 focus:ring-cyan-500"}),c.jsx("span",{className:"ml-2 text-sm text-gray-400",children:"Remember me"})]}),c.jsx(h,{to:"/forgot-password",className:"text-sm text-cyan-400 hover:text-cyan-300 font-medium",children:"Forgot password?"})]}),c.jsx("button",{type:"submit",disabled:E,className:"w-full bg-gradient-to-r from-cyan-500 to-teal-500 text-white py-3 px-4 rounded-lg font-semibold hover:from-cyan-600 hover:to-teal-600 transition-all shadow-lg shadow-cyan-500/30 disabled:opacity-50 disabled:cursor-not-allowed",children:E?"Signing in...":"Sign In"})]}),c.jsx("div",{className:"mt-6 text-center",children:c.jsxs("p",{className:"text-sm text-gray-400",children:["Don't have an account?"," ",c.jsx(h,{to:"/register",className:"text-cyan-400 hover:text-cyan-300 font-medium",children:"Sign up"})]})})]})]})})})}export{y as default};
