import{c as e,h as s,j as t}from"./index-D05EJBQ2.js";import{u as a,b as l}from"./react-vendor-DvHQdeg3.js";import{W as i}from"./wallet-CJL6eKHU.js";import{D as r}from"./dollar-sign-5D7so2vV.js";import{T as n}from"./trending-up-DTJ33_Qj.js";import{T as d}from"./trending-down-DxB7bA_6.js";import{A as o}from"./arrow-up-right-BVLiiCst.js";import{C as c}from"./clock-CVmVwZ1C.js";import"./utils-BQl1bh9w.js";
/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m=e("arrow-down-right",[["path",{d:"m7 7 10 10",key:"1fmybs"}],["path",{d:"M17 7v10H7",key:"6fjiku"}]]);function x(){var e,x,h,p;const u=a(),[b,g]=l.useState(null),[j,f]=l.useState([]),[w,v]=l.useState(!0),[N,y]=l.useState("all");l.useEffect(()=>{_()},[]);const _=()=>{return e=null,t=null,a=function*(){try{v(!0);const e=yield s.get("/api/v1/wallet/balance");g(e.data.wallet);const t=yield s.get("/api/v1/wallet/transactions");f(t.data.transactions||[])}catch(e){}finally{v(!1)}},new Promise((s,l)=>{var i=e=>{try{n(a.next(e))}catch(s){l(s)}},r=e=>{try{n(a.throw(e))}catch(s){l(s)}},n=e=>e.done?s(e.value):Promise.resolve(e.value).then(i,r);n((a=a.apply(e,t)).next())});var e,t,a},k=e=>"credit"===e||"deposit"===e||"commission"===e?"text-green-400":"text-red-400",C=j.filter(e=>"all"===N||("credit"===N?["credit","deposit","commission"].includes(e.transaction_type):"debit"!==N||["debit","withdrawal","fee"].includes(e.transaction_type)));return w?t.jsx("div",{className:"min-h-screen bg-slate-900 flex items-center justify-center",children:t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mx-auto"}),t.jsx("p",{className:"mt-4 text-gray-400",children:"Loading wallet..."})]})}):t.jsx("div",{className:"min-h-screen bg-slate-900 py-8",children:t.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[t.jsxs("div",{className:"mb-8",children:[t.jsxs("h1",{className:"text-3xl font-bold text-white flex items-center gap-3",children:[t.jsx(i,{className:"w-8 h-8 text-blue-400"}),"My Wallet"]}),t.jsx("p",{className:"mt-2 text-gray-400",children:"Manage your balances and view transaction history"})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[t.jsxs("div",{className:"bg-gradient-to-br from-blue-600 to-blue-700 rounded-xl p-6 text-white shadow-lg shadow-blue-500/10 border border-blue-500/20",children:[t.jsx("div",{className:"flex items-center justify-between mb-4",children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(r,{className:"w-5 h-5"}),t.jsx("span",{className:"text-sm font-medium opacity-90",children:"Main Balance"})]})}),t.jsxs("div",{className:"text-3xl font-bold mb-2",children:["$",(null==(e=null==b?void 0:b.main_balance)?void 0:e.toFixed(2))||"0.00"]}),t.jsx("p",{className:"text-sm opacity-75",children:"Available for trading"})]}),t.jsxs("div",{className:"bg-gradient-to-br from-green-600 to-green-700 rounded-xl p-6 text-white shadow-lg shadow-green-500/10 border border-green-500/20",children:[t.jsx("div",{className:"flex items-center justify-between mb-4",children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(n,{className:"w-5 h-5"}),t.jsx("span",{className:"text-sm font-medium opacity-90",children:"Commission Balance"})]})}),t.jsxs("div",{className:"text-3xl font-bold mb-2",children:["$",(null==(x=null==b?void 0:b.commission_balance)?void 0:x.toFixed(2))||"0.00"]}),t.jsx("p",{className:"text-sm opacity-75",children:"Earned commissions"})]}),t.jsxs("div",{className:"bg-gradient-to-br from-purple-600 to-purple-700 rounded-xl p-6 text-white shadow-lg shadow-purple-500/10 border border-purple-500/20",children:[t.jsx("div",{className:"flex items-center justify-between mb-4",children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(d,{className:"w-5 h-5"}),t.jsx("span",{className:"text-sm font-medium opacity-90",children:"Bonus Balance"})]})}),t.jsxs("div",{className:"text-3xl font-bold mb-2",children:["$",(null==(h=null==b?void 0:b.bonus_balance)?void 0:h.toFixed(2))||"0.00"]}),t.jsx("p",{className:"text-sm opacity-75",children:"Promotional bonuses"})]})]}),t.jsx("div",{className:"bg-slate-800/50 backdrop-blur-sm rounded-xl shadow-md border border-white/10 p-6 mb-8",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-400 mb-1",children:"Total Balance"}),t.jsxs("p",{className:"text-4xl font-bold text-white",children:["$",(null==(p=null==b?void 0:b.total_balance)?void 0:p.toFixed(2))||"0.00"]})]}),t.jsxs("button",{onClick:()=>u("/trader/withdrawals"),className:"bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white px-6 py-3 rounded-lg font-medium transition-all duration-200 flex items-center gap-2 shadow-lg shadow-blue-500/20",children:[t.jsx(o,{className:"w-5 h-5"}),"Request Withdrawal"]})]})}),t.jsxs("div",{className:"bg-slate-800/50 backdrop-blur-sm rounded-xl shadow-md border border-white/10 overflow-hidden",children:[t.jsx("div",{className:"p-6 border-b border-white/10",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("h2",{className:"text-xl font-bold text-white",children:"Transaction History"}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx("button",{onClick:()=>y("all"),className:"px-4 py-2 rounded-lg text-sm font-medium transition-all "+("all"===N?"bg-gradient-to-r from-blue-600 to-purple-600 text-white shadow-lg shadow-blue-500/20":"bg-slate-700/50 text-gray-300 hover:bg-slate-700"),children:"All"}),t.jsx("button",{onClick:()=>y("credit"),className:"px-4 py-2 rounded-lg text-sm font-medium transition-all "+("credit"===N?"bg-green-600 text-white shadow-lg shadow-green-500/20":"bg-slate-700/50 text-gray-300 hover:bg-slate-700"),children:"Credits"}),t.jsx("button",{onClick:()=>y("debit"),className:"px-4 py-2 rounded-lg text-sm font-medium transition-all "+("debit"===N?"bg-red-600 text-white shadow-lg shadow-red-500/20":"bg-slate-700/50 text-gray-300 hover:bg-slate-700"),children:"Debits"})]})]})}),t.jsx("div",{className:"divide-y divide-white/10",children:0===C.length?t.jsxs("div",{className:"p-12 text-center",children:[t.jsx(c,{className:"w-12 h-12 text-gray-600 mx-auto mb-4"}),t.jsx("p",{className:"text-gray-400",children:"No transactions yet"}),t.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Your transaction history will appear here"})]}):C.map(e=>{return t.jsx("div",{className:"p-6 hover:bg-white/5 transition-colors",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("div",{className:"w-10 h-10 rounded-full bg-slate-700/50 flex items-center justify-center",children:(a=e.transaction_type,"credit"===a||"deposit"===a||"commission"===a?t.jsx(m,{className:"w-5 h-5 text-green-400"}):t.jsx(o,{className:"w-5 h-5 text-red-400"}))}),t.jsxs("div",{children:[t.jsx("p",{className:"font-medium text-white",children:e.description||e.transaction_type}),t.jsx("p",{className:"text-sm text-gray-400",children:(s=e.created_at,new Date(s).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}))}),e.balance_type&&t.jsx("span",{className:"inline-block mt-1 px-2 py-0.5 text-xs font-medium bg-slate-700/50 text-gray-300 rounded",children:e.balance_type})]})]}),t.jsxs("div",{className:"text-right",children:[t.jsxs("p",{className:`text-lg font-bold ${k(e.transaction_type)}`,children:[["credit","deposit","commission"].includes(e.transaction_type)?"+":"-","$",Math.abs(e.amount).toFixed(2)]}),e.reference_type&&t.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Ref: ",e.reference_type," #",e.reference_id]})]})]})},e.id);var s,a})})]})]})})}export{x as default};
