var e=(e,t,s)=>new Promise((a,r)=>{var l=e=>{try{o(s.next(e))}catch(t){r(t)}},i=e=>{try{o(s.throw(e))}catch(t){r(t)}},o=e=>e.done?a(e.value):Promise.resolve(e.value).then(l,i);o((s=s.apply(e,t)).next())});import{j as t}from"./index-Bei-9d5M.js";import{b as s,L as a}from"./react-vendor-DvHQdeg3.js";import{L as r}from"./Layout-Dz_Rz5S5.js";import{a as l}from"./utils-BQl1bh9w.js";import{B as i}from"./book-open-D8G3Gc_R.js";import{U as o}from"./users-DIFhcSLI.js";import{T as n}from"./trending-up-DTUoKZEk.js";import{L as c}from"./loader-CG4XXHrq.js";import{C as d}from"./calendar-Dma8c0em.js";import{C as x}from"./clock-ClqkSZpH.js";import{A as m}from"./arrow-right-CNoKmwdh.js";import{M as p}from"./mail-BeTDA6uc.js";import{S as g}from"./search-Ce91U42E.js";import"./log-out-CwehJXUk.js";import"./menu-B66FjuIB.js";const h="/api/v1";function u(){const[u,b]=s.useState(""),[f,j]=s.useState("all"),[y,v]=s.useState([]),[N,w]=s.useState([]),[k,S]=s.useState([]),[_,C]=s.useState(!0),[L,T]=s.useState(""),[P,A]=s.useState(""),[F,D]=s.useState(""),[$,z]=s.useState({page:1,per_page:9,total_posts:0,total_pages:0});s.useEffect(()=>{M(),R(),B()},[]);const M=(t=1,s="all")=>e(null,null,function*(){try{C(!0),T("");const e={page:t,per_page:$.per_page};"all"!==s&&(e.category=s);const a=yield l.get(`${h}/blog/posts`,{params:e});v(a.data.posts||[]),z(a.data.pagination||$)}catch(e){console.error("Failed to fetch posts:",e),T("Failed to load blog posts. Please try again later."),v([])}finally{C(!1)}}),R=()=>e(null,null,function*(){try{const e=yield l.get(`${h}/blog/categories`);w(e.data||[])}catch(e){console.error("Failed to fetch categories:",e),w([])}}),B=()=>e(null,null,function*(){try{const e=yield l.get(`${h}/blog/featured`);S(e.data.posts||[])}catch(e){console.error("Failed to fetch featured posts:",e),S([])}}),E=e=>{j(e),M(1,e)},q=y.filter(e=>e.title.toLowerCase().includes(u.toLowerCase())||e.excerpt.toLowerCase().includes(u.toLowerCase())),G=[{icon:i,label:"Articles",value:"150+"},{icon:o,label:"Readers",value:"10K+"},{icon:n,label:"Weekly Posts",value:"3-5"}];return t.jsx(r,{children:t.jsxs("div",{className:"min-h-screen bg-black text-white",children:[t.jsxs("section",{className:"relative min-h-[60vh] flex items-center justify-center overflow-hidden",children:[t.jsxs("div",{className:"absolute inset-0 z-0",children:[t.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_center,rgba(6,182,212,0.1)_0%,transparent_65%)]"}),t.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_80%_20%,rgba(168,85,247,0.15)_0%,transparent_50%)]"})]}),t.jsxs("div",{className:"relative z-10 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[t.jsxs("h1",{className:"text-5xl md:text-7xl font-bold mb-8",children:["MarketEdge"," ",t.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-cyan-400 to-teal-400",children:"Blog"})]}),t.jsx("p",{className:"text-xl md:text-2xl text-gray-300 max-w-3xl mx-auto mb-8",children:"Insights, tips, and news from the world of trading"}),t.jsx("div",{className:"flex flex-wrap justify-center gap-8 mt-12",children:G.map((e,s)=>{const a=e.icon;return t.jsxs("div",{className:"flex items-center gap-3 bg-white/5 backdrop-blur-sm border border-white/10 rounded-xl px-6 py-3",children:[t.jsx(a,{className:"w-6 h-6 text-cyan-400"}),t.jsxs("div",{className:"text-left",children:[t.jsx("div",{className:"text-2xl font-bold text-white",children:e.value}),t.jsx("div",{className:"text-sm text-gray-400",children:e.label})]})]},s)})})]})]}),t.jsx("section",{className:"relative py-32",children:t.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:t.jsxs("div",{className:"grid md:grid-cols-12 gap-16",children:[t.jsxs("div",{className:"md:col-span-8",children:[_?t.jsx("div",{className:"flex justify-center items-center h-96",children:t.jsx(c,{className:"w-12 h-12 animate-spin text-cyan-400"})}):L?t.jsxs("div",{className:"text-center py-12",children:[t.jsx("p",{className:"text-red-400 text-lg mb-4",children:L}),t.jsx("button",{onClick:()=>M(),className:"px-6 py-3 bg-gradient-to-r from-cyan-500 to-teal-500 text-white rounded-lg hover:from-cyan-600 hover:to-teal-600 transition-all",children:"Try Again"})]}):0===q.length?t.jsx("div",{className:"text-center py-12",children:t.jsx("p",{className:"text-gray-400 text-lg",children:"No blog posts found."})}):t.jsx("div",{className:"grid gap-12",children:q.map(e=>t.jsx(a,{to:`/blog/${e.slug}`,className:"group block",children:t.jsxs("div",{className:"bg-white/5 backdrop-blur-sm border border-white/10 rounded-2xl p-8 hover:bg-white/10 transition-all duration-300",children:[t.jsx("h2",{className:"text-3xl font-bold mb-4 text-transparent bg-clip-text bg-gradient-to-r from-cyan-400 to-teal-400 group-hover:from-purple-400 group-hover:to-pink-400",children:e.title}),t.jsxs("div",{className:"flex items-center gap-4 text-gray-400 mb-4",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(d,{size:16}),new Date(e.published_at).toLocaleDateString()]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(x,{size:16}),e.reading_time||e.read_time||5," min read"]})]}),t.jsx("p",{className:"text-lg text-gray-300 mb-6",children:e.excerpt}),t.jsxs("div",{className:"flex items-center gap-2 text-cyan-400 font-semibold group-hover:text-purple-400",children:["Read More ",t.jsx(m,{size:16})]})]})},e.id))}),!_&&!L&&$.total_pages>1&&t.jsx("div",{className:"flex justify-center gap-2 mt-12",children:Array.from({length:$.total_pages},(e,t)=>t+1).map(e=>t.jsx("button",{onClick:()=>(e=>{M(e,f)})(e),className:"px-4 py-2 rounded-lg font-semibold transition-all "+($.page===e?"bg-gradient-to-r from-cyan-500 to-teal-500 text-white":"bg-white/10 text-gray-300 hover:bg-white/20"),children:e},e))})]}),t.jsx("div",{className:"md:col-span-4",children:t.jsxs("div",{className:"sticky top-24 space-y-12",children:[t.jsxs("div",{className:"bg-gradient-to-br from-cyan-500/10 to-teal-500/10 border border-cyan-500/30 rounded-2xl p-6",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[t.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-cyan-500 to-teal-500 rounded-lg flex items-center justify-center",children:t.jsx(p,{className:"w-6 h-6 text-white"})}),t.jsx("h3",{className:"text-2xl font-bold text-white",children:"Newsletter"})]}),t.jsx("p",{className:"text-gray-300 mb-4",children:"Get weekly trading insights and exclusive tips delivered to your inbox."}),t.jsxs("form",{onSubmit:t=>e(null,null,function*(){t.preventDefault(),D("loading");try{yield l.post(`${h}/newsletter/subscribe`,{email:P}),D("success"),A(""),setTimeout(()=>D(""),3e3)}catch(e){D("error"),setTimeout(()=>D(""),3e3)}}),className:"space-y-3",children:[t.jsx("input",{type:"email",placeholder:"your@email.com",value:P,onChange:e=>A(e.target.value),required:!0,className:"w-full px-4 py-3 bg-white/5 border border-white/10 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-cyan-500"}),t.jsx("button",{type:"submit",disabled:"loading"===F,className:"w-full py-3 bg-gradient-to-r from-cyan-500 to-teal-500 text-white rounded-lg font-semibold hover:from-cyan-600 hover:to-teal-600 transition-all disabled:opacity-50",children:"loading"===F?"Subscribing...":"Subscribe"}),"success"===F&&t.jsx("p",{className:"text-green-400 text-sm",children:"✓ Successfully subscribed!"}),"error"===F&&t.jsx("p",{className:"text-red-400 text-sm",children:"✗ Failed to subscribe. Try again."})]})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-2xl font-bold mb-4 text-transparent bg-clip-text bg-gradient-to-r from-purple-400 to-pink-400",children:"Search"}),t.jsxs("div",{className:"relative",children:[t.jsx(g,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),t.jsx("input",{type:"text",placeholder:"Search posts...",value:u,onChange:e=>b(e.target.value),className:"w-full pl-12 pr-4 py-3 bg-white/5 border border-white/10 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-cyan-500"})]})]}),N.length>0&&t.jsxs("div",{children:[t.jsx("h3",{className:"text-2xl font-bold mb-4 text-transparent bg-clip-text bg-gradient-to-r from-purple-400 to-pink-400",children:"Categories"}),t.jsxs("div",{className:"flex flex-wrap gap-2",children:[t.jsx("button",{onClick:()=>E("all"),className:"px-4 py-2 rounded-full text-sm font-semibold transition-all "+("all"===f?"bg-cyan-500 text-white":"bg-white/10 text-gray-300 hover:bg-white/20"),children:"All"}),N.map(e=>t.jsx("button",{onClick:()=>E(e.slug),className:"px-4 py-2 rounded-full text-sm font-semibold transition-all "+(f===e.slug?"bg-cyan-500 text-white":"bg-white/10 text-gray-300 hover:bg-white/20"),children:e.name},e.id))]})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-2xl font-bold mb-4 text-transparent bg-clip-text bg-gradient-to-r from-purple-400 to-pink-400",children:"Popular Tags"}),t.jsx("div",{className:"flex flex-wrap gap-2",children:["Trading Strategies","Risk Management","Market Analysis","Forex","Day Trading","Technical Analysis","Prop Trading","Psychology"].map((e,s)=>t.jsxs("span",{className:"px-3 py-1 bg-white/5 border border-white/10 rounded-full text-sm text-gray-300 hover:bg-white/10 hover:border-cyan-500/50 transition-all cursor-pointer",children:["#",e]},s))})]}),k.length>0&&t.jsxs("div",{children:[t.jsx("h3",{className:"text-2xl font-bold mb-4 text-transparent bg-clip-text bg-gradient-to-r from-purple-400 to-pink-400",children:"Featured Posts"}),t.jsx("div",{className:"space-y-4",children:k.map(e=>t.jsx(a,{to:`/blog/${e.slug}`,className:"block group",children:t.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-lg p-4 hover:border-cyan-500/50 transition-all",children:[t.jsx("p",{className:"text-lg font-semibold text-gray-300 group-hover:text-cyan-400 transition-colors mb-2",children:e.title}),t.jsx("p",{className:"text-sm text-gray-500",children:new Date(e.published_at).toLocaleDateString()})]})},e.id))})]})]})})]})})})]})})}export{u as default};
