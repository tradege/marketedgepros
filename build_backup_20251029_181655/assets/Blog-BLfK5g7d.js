var e=(e,t,a)=>new Promise((s,l)=>{var r=e=>{try{o(a.next(e))}catch(t){l(t)}},i=e=>{try{o(a.throw(e))}catch(t){l(t)}},o=e=>e.done?s(e.value):Promise.resolve(e.value).then(r,i);o((a=a.apply(e,t)).next())});import{j as t}from"./index-BuEn6UhJ.js";import{b as a,L as s}from"./react-vendor-DvHQdeg3.js";import{L as l}from"./Layout-BME98gVQ.js";import{a as r}from"./utils-BQl1bh9w.js";import{L as i}from"./loader-6vFoG1s5.js";import{C as o}from"./calendar-BYbP8xOI.js";import{C as n}from"./clock-BURHHURq.js";import{A as c}from"./arrow-right-XsjjDoOW.js";import{S as d}from"./search-Dy2VZ2-v.js";import"./menu-CSQuNM7x.js";import"./mail-CZ2ZG3Xc.js";const x="/api/v1";function m(){const[m,p]=a.useState(""),[g,h]=a.useState("all"),[u,b]=a.useState([]),[j,f]=a.useState([]),[y,v]=a.useState([]),[N,w]=a.useState(!0),[_,k]=a.useState(""),[S,C]=a.useState({page:1,per_page:9,total_posts:0,total_pages:0});a.useEffect(()=>{L(),z(),F()},[]);const L=(t=1,a="all")=>e(null,null,function*(){try{w(!0),k("");const e={page:t,per_page:S.per_page};"all"!==a&&(e.category=a);const s=yield r.get(`${x}/blog/posts`,{params:e});b(s.data.posts||[]),C(s.data.pagination||S)}catch(e){console.error("Failed to fetch posts:",e),k("Failed to load blog posts. Please try again later."),b([])}finally{w(!1)}}),z=()=>e(null,null,function*(){try{const e=yield r.get(`${x}/blog/categories`);f(e.data||[])}catch(e){console.error("Failed to fetch categories:",e),f([])}}),F=()=>e(null,null,function*(){try{const e=yield r.get(`${x}/blog/featured`);v(e.data.posts||[])}catch(e){console.error("Failed to fetch featured posts:",e),v([])}}),$=e=>{h(e),L(1,e)},A=u.filter(e=>e.title.toLowerCase().includes(m.toLowerCase())||e.excerpt.toLowerCase().includes(m.toLowerCase()));return t.jsx(l,{children:t.jsxs("div",{className:"min-h-screen bg-black text-white",children:[t.jsxs("section",{className:"relative min-h-[60vh] flex items-center justify-center overflow-hidden",children:[t.jsxs("div",{className:"absolute inset-0 z-0",children:[t.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_center,rgba(6,182,212,0.1)_0%,transparent_65%)]"}),t.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_80%_20%,rgba(168,85,247,0.15)_0%,transparent_50%)]"})]}),t.jsxs("div",{className:"relative z-10 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[t.jsxs("h1",{className:"text-5xl md:text-7xl font-bold mb-8",children:["MarketEdge"," ",t.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-cyan-400 to-teal-400",children:"Blog"})]}),t.jsx("p",{className:"text-xl md:text-2xl text-gray-300 max-w-3xl mx-auto",children:"Insights, tips, and news from the world of trading"})]})]}),t.jsx("section",{className:"relative py-32",children:t.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:t.jsxs("div",{className:"grid md:grid-cols-12 gap-16",children:[t.jsxs("div",{className:"md:col-span-8",children:[N?t.jsx("div",{className:"flex justify-center items-center h-96",children:t.jsx(i,{className:"w-12 h-12 animate-spin text-cyan-400"})}):_?t.jsxs("div",{className:"text-center py-12",children:[t.jsx("p",{className:"text-red-400 text-lg mb-4",children:_}),t.jsx("button",{onClick:()=>L(),className:"px-6 py-3 bg-gradient-to-r from-cyan-500 to-teal-500 text-white rounded-lg hover:from-cyan-600 hover:to-teal-600 transition-all",children:"Try Again"})]}):0===A.length?t.jsx("div",{className:"text-center py-12",children:t.jsx("p",{className:"text-gray-400 text-lg",children:"No blog posts found."})}):t.jsx("div",{className:"grid gap-12",children:A.map(e=>t.jsx(s,{to:`/blog/${e.slug}`,className:"group block",children:t.jsxs("div",{className:"bg-white/5 backdrop-blur-sm border border-white/10 rounded-2xl p-8 hover:bg-white/10 transition-all duration-300",children:[t.jsx("h2",{className:"text-3xl font-bold mb-4 text-transparent bg-clip-text bg-gradient-to-r from-cyan-400 to-teal-400 group-hover:from-purple-400 group-hover:to-pink-400",children:e.title}),t.jsxs("div",{className:"flex items-center gap-4 text-gray-400 mb-4",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(o,{size:16}),new Date(e.published_at).toLocaleDateString()]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(n,{size:16}),e.reading_time||e.read_time||5," min read"]})]}),t.jsx("p",{className:"text-lg text-gray-300 mb-6",children:e.excerpt}),t.jsxs("div",{className:"flex items-center gap-2 text-cyan-400 font-semibold group-hover:text-purple-400",children:["Read More ",t.jsx(c,{size:16})]})]})},e.id))}),!N&&!_&&S.total_pages>1&&t.jsx("div",{className:"flex justify-center gap-2 mt-12",children:Array.from({length:S.total_pages},(e,t)=>t+1).map(e=>t.jsx("button",{onClick:()=>(e=>{L(e,g)})(e),className:"px-4 py-2 rounded-lg font-semibold transition-all "+(S.page===e?"bg-gradient-to-r from-cyan-500 to-teal-500 text-white":"bg-white/10 text-gray-300 hover:bg-white/20"),children:e},e))})]}),t.jsx("div",{className:"md:col-span-4",children:t.jsxs("div",{className:"sticky top-24 space-y-12",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"text-2xl font-bold mb-4 text-transparent bg-clip-text bg-gradient-to-r from-purple-400 to-pink-400",children:"Search"}),t.jsxs("div",{className:"relative",children:[t.jsx(d,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),t.jsx("input",{type:"text",placeholder:"Search posts...",value:m,onChange:e=>p(e.target.value),className:"w-full pl-12 pr-4 py-3 bg-white/5 border border-white/10 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-cyan-500"})]})]}),j.length>0&&t.jsxs("div",{children:[t.jsx("h3",{className:"text-2xl font-bold mb-4 text-transparent bg-clip-text bg-gradient-to-r from-purple-400 to-pink-400",children:"Categories"}),t.jsxs("div",{className:"flex flex-wrap gap-2",children:[t.jsx("button",{onClick:()=>$("all"),className:"px-4 py-2 rounded-full text-sm font-semibold transition-all "+("all"===g?"bg-cyan-500 text-white":"bg-white/10 text-gray-300 hover:bg-white/20"),children:"All"}),j.map(e=>t.jsx("button",{onClick:()=>$(e.slug),className:"px-4 py-2 rounded-full text-sm font-semibold transition-all "+(g===e.slug?"bg-cyan-500 text-white":"bg-white/10 text-gray-300 hover:bg-white/20"),children:e.name},e.id))]})]}),y.length>0&&t.jsxs("div",{children:[t.jsx("h3",{className:"text-2xl font-bold mb-4 text-transparent bg-clip-text bg-gradient-to-r from-purple-400 to-pink-400",children:"Featured Posts"}),t.jsx("div",{className:"space-y-4",children:y.map(e=>t.jsxs(s,{to:`/blog/${e.slug}`,className:"block group",children:[t.jsx("p",{className:"text-lg font-semibold text-gray-300 group-hover:text-cyan-400 transition-colors",children:e.title}),t.jsx("p",{className:"text-sm text-gray-500",children:new Date(e.published_at).toLocaleDateString()})]},e.id))})]})]})})]})})})]})})}export{m as default};
