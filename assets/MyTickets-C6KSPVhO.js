import{c as e,j as t,a as s,C as a,M as r}from"./index-ClO6sKb2.js";import{b as l,L as o}from"./react-vendor-DX2RpXDf.js";import{L as n}from"./Layout-jAgOqIUH.js";import{S as i}from"./SEO-DbNd7j28.js";import{a as c}from"./utils-BqmvKC_F.js";import{F as d}from"./funnel-D4LsNdEB.js";import{L as x}from"./loader-fBhikMBj.js";import{C as m}from"./clock-BQ2oa0po.js";import"./menu-BoC67Odm.js";import"./mail-SaibYyFi.js";
/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p=e("ticket",[["path",{d:"M2 9a3 3 0 0 1 0 6v2a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-2a3 3 0 0 1 0-6V7a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"qn84l0"}],["path",{d:"M13 5v2",key:"dyzc3o"}],["path",{d:"M13 17v2",key:"1ont0d"}],["path",{d:"M13 11v2",key:"1wjjxi"}]]);function b(){const[e,b]=l.useState([]),[h,u]=l.useState(!0),[g,y]=l.useState("all");l.useEffect(()=>{j()},[g]);const j=()=>{return e=null,t=null,s=function*(){try{u(!0);const e=localStorage.getItem("token"),t="all"!==g?{status:g}:{},s=yield c.get("https://marketedgepros.com/api/v1/support/tickets/my",{headers:{Authorization:`Bearer ${e}`},params:t});b(s.data.tickets)}catch(e){}finally{u(!1)}},new Promise((a,r)=>{var l=e=>{try{n(s.next(e))}catch(t){r(t)}},o=e=>{try{n(s.throw(e))}catch(t){r(t)}},n=e=>e.done?a(e.value):Promise.resolve(e.value).then(l,o);n((s=s.apply(e,t)).next())});var e,t,s},f=e=>{const t={low:"bg-cyan-500/10 text-cyan-400 border-cyan-500/30",medium:"bg-teal-500/10 text-teal-400 border-teal-500/30",high:"bg-cyan-500/10 text-cyan-400 border-cyan-500/30",urgent:"bg-teal-500/10 text-teal-400 border-teal-500/30"};return t[e]||t.medium},v=e=>new Date(e).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric",hour:"2-digit",minute:"2-digit"}),N={total:e.length,open:e.filter(e=>"open"===e.status).length,in_progress:e.filter(e=>"in_progress"===e.status||"waiting_customer"===e.status).length,resolved:e.filter(e=>"resolved"===e.status||"closed"===e.status).length};return t.jsxs(n,{children:[t.jsx(i,{title:"My Support Tickets",description:"View and manage your support tickets",keywords:"support tickets, help, customer service"}),t.jsxs("section",{className:"relative pt-32 pb-12 overflow-hidden bg-black",children:[t.jsxs("div",{className:"absolute inset-0",children:[t.jsx("div",{className:"absolute top-20 left-10 w-96 h-96 bg-cyan-500/10 rounded-full blur-3xl"}),t.jsx("div",{className:"absolute bottom-20 right-10 w-96 h-96 bg-teal-500/10 rounded-full blur-3xl"})]}),t.jsxs("div",{className:"relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[t.jsxs("div",{className:"flex items-center justify-between mb-8",children:[t.jsxs("div",{children:[t.jsxs("h1",{className:"text-5xl md:text-6xl font-bold text-white mb-4",children:["My Support ",t.jsx("span",{className:"bg-gradient-to-r from-cyan-400 to-teal-400 bg-clip-text text-transparent",children:"Tickets"})]}),t.jsx("p",{className:"text-xl text-gray-300",children:"Track and manage all your support requests"})]}),t.jsxs(o,{to:"/support/create-ticket",className:"hidden md:flex items-center gap-2 px-6 py-3 bg-gradient-to-r from-cyan-500 to-teal-500 text-white rounded-xl font-semibold hover:shadow-lg hover:shadow-cyan-500/50 transition-all",children:[t.jsx(p,{className:"w-5 h-5"}),"New Ticket"]})]}),t.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[t.jsxs("div",{className:"bg-slate-900/50 backdrop-blur-sm border border-slate-700 rounded-xl p-6",children:[t.jsx("p",{className:"text-gray-400 text-sm mb-2",children:"Total Tickets"}),t.jsx("p",{className:"text-3xl font-bold text-white",children:N.total})]}),t.jsxs("div",{className:"bg-slate-900/50 backdrop-blur-sm border border-cyan-500/30 rounded-xl p-6",children:[t.jsx("p",{className:"text-gray-400 text-sm mb-2",children:"Open"}),t.jsx("p",{className:"text-3xl font-bold text-cyan-400",children:N.open})]}),t.jsxs("div",{className:"bg-slate-900/50 backdrop-blur-sm border border-teal-500/30 rounded-xl p-6",children:[t.jsx("p",{className:"text-gray-400 text-sm mb-2",children:"In Progress"}),t.jsx("p",{className:"text-3xl font-bold text-teal-400",children:N.in_progress})]}),t.jsxs("div",{className:"bg-slate-900/50 backdrop-blur-sm border border-cyan-500/30 rounded-xl p-6",children:[t.jsx("p",{className:"text-gray-400 text-sm mb-2",children:"Resolved"}),t.jsx("p",{className:"text-3xl font-bold text-cyan-400",children:N.resolved})]})]})]})]}),t.jsx("section",{className:"py-12 bg-black",children:t.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[t.jsx(d,{className:"w-5 h-5 text-gray-400"}),t.jsx("button",{onClick:()=>y("all"),className:"px-4 py-2 rounded-lg font-medium transition-all "+("all"===g?"bg-gradient-to-r from-cyan-500 to-teal-500 text-white":"bg-slate-800 text-gray-300 hover:bg-slate-700"),children:"All"}),t.jsx("button",{onClick:()=>y("open"),className:"px-4 py-2 rounded-lg font-medium transition-all "+("open"===g?"bg-gradient-to-r from-cyan-500 to-teal-500 text-white":"bg-slate-800 text-gray-300 hover:bg-slate-700"),children:"Open"}),t.jsx("button",{onClick:()=>y("in_progress"),className:"px-4 py-2 rounded-lg font-medium transition-all "+("in_progress"===g?"bg-gradient-to-r from-cyan-500 to-teal-500 text-white":"bg-slate-800 text-gray-300 hover:bg-slate-700"),children:"In Progress"}),t.jsx("button",{onClick:()=>y("resolved"),className:"px-4 py-2 rounded-lg font-medium transition-all "+("resolved"===g?"bg-gradient-to-r from-cyan-500 to-teal-500 text-white":"bg-slate-800 text-gray-300 hover:bg-slate-700"),children:"Resolved"})]}),h?t.jsx("div",{className:"flex justify-center items-center py-20",children:t.jsx(x,{className:"w-8 h-8 text-cyan-500 animate-spin"})}):0===e.length?t.jsxs("div",{className:"text-center py-20",children:[t.jsx("div",{className:"w-20 h-20 bg-slate-800 rounded-full flex items-center justify-center mx-auto mb-6",children:t.jsx(p,{className:"w-10 h-10 text-gray-400"})}),t.jsx("h3",{className:"text-2xl font-bold text-white mb-2",children:"No tickets found"}),t.jsx("p",{className:"text-gray-400 mb-6",children:"You haven't created any support tickets yet."}),t.jsxs(o,{to:"/support/create-ticket",className:"inline-flex items-center gap-2 px-6 py-3 bg-gradient-to-r from-cyan-500 to-teal-500 text-white rounded-xl font-semibold hover:shadow-lg hover:shadow-cyan-500/50 transition-all",children:[t.jsx(p,{className:"w-5 h-5"}),"Create Your First Ticket"]})]}):t.jsx("div",{className:"space-y-4",children:e.map(e=>{const l=(e=>{const t={open:{color:"bg-cyan-500/10 text-cyan-400 border-cyan-500/30",icon:m,label:"Open"},in_progress:{color:"bg-teal-500/10 text-teal-400 border-teal-500/30",icon:r,label:"In Progress"},waiting_customer:{color:"bg-cyan-500/10 text-cyan-400 border-cyan-500/30",icon:a,label:"Waiting for You"},resolved:{color:"bg-teal-500/10 text-teal-400 border-teal-500/30",icon:s,label:"Resolved"},closed:{color:"bg-gray-500/10 text-gray-400 border-gray-500/30",icon:s,label:"Closed"}};return t[e]||t.open})(e.status),n=l.icon;return t.jsxs(o,{to:`/support/ticket/${e.ticket_number}?email=${e.email}`,className:"block bg-slate-900/50 backdrop-blur-sm border border-slate-700 rounded-xl p-6 hover:border-cyan-500/50 transition-all",children:[t.jsx("div",{className:"flex items-start justify-between mb-4",children:t.jsxs("div",{className:"flex-1",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[t.jsxs("span",{className:"text-cyan-400 font-mono font-semibold",children:["#",e.ticket_number]}),t.jsxs("span",{className:`px-3 py-1 rounded-full text-xs font-medium border ${l.color} flex items-center gap-1.5`,children:[t.jsx(n,{className:"w-3.5 h-3.5"}),l.label]}),t.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium border ${f(e.priority)}`,children:e.priority.charAt(0).toUpperCase()+e.priority.slice(1)})]}),t.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:e.subject}),t.jsx("p",{className:"text-gray-400 text-sm line-clamp-2",children:e.description})]})}),t.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-400",children:[t.jsxs("span",{children:["Created ",v(e.created_at)]}),e.last_response_at&&t.jsxs("span",{children:["Last response ",v(e.last_response_at)]})]})]},e.id)})})]})})]})}export{b as default};
