import{g as e,h as s,j as t,a,d as r,C as l}from"./index-ClO6sKb2.js";import{h as i,u as c,b as d}from"./react-vendor-DX2RpXDf.js";import{L as n}from"./Layout-jAgOqIUH.js";import{A as x}from"./arrow-left-CysOF2vc.js";import{D as m}from"./dollar-sign-BHxUVU3g.js";import{T as o}from"./target-CUDzIkRJ.js";import{C as h}from"./chart-column-CRr5IDDN.js";import{A as g}from"./activity-BxumrcW9.js";import{T as j}from"./trending-up-CGHgLkJo.js";import{T as p}from"./trending-down-Cv4OXspC.js";import{C as f}from"./calendar-KU-w_AnF.js";import{A as N}from"./award-CAxWR8fS.js";import"./utils-BqmvKC_F.js";import"./menu-BoC67Odm.js";import"./mail-SaibYyFi.js";function u(){const{id:u}=i(),y=c(),b=e(),[v,w]=d.useState(null),[_,T]=d.useState(!0);d.useEffect(()=>{L()},[u]);const L=()=>{return e=null,t=null,a=function*(){try{T(!0);const e=yield s.get(`/traders/challenges/${u}`);w(e.data.challenge)}catch(e){b.error("Failed to load challenge details"),y("/dashboard")}finally{T(!1)}},new Promise((s,r)=>{var l=e=>{try{c(a.next(e))}catch(s){r(s)}},i=e=>{try{c(a.throw(e))}catch(s){r(s)}},c=e=>e.done?s(e.value):Promise.resolve(e.value).then(l,i);c((a=a.apply(e,t)).next())});var e,t,a};if(_)return t.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"}),t.jsx("p",{className:"text-gray-600 mt-4",children:"Loading challenge..."})]})});if(!v)return t.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:t.jsxs("div",{className:"text-center",children:[t.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Challenge not found"}),t.jsx("button",{onClick:()=>y("/dashboard"),className:"btn btn-primary mt-4",children:"Back to Dashboard"})]})});const $=v.current_profit/v.profit_target*100,k=v.current_profit>=0;return t.jsx(n,{children:t.jsxs("div",{className:"min-h-screen bg-gray-50",children:[t.jsx("div",{className:"bg-white border-b border-gray-200",children:t.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:[t.jsxs("button",{onClick:()=>y("/dashboard"),className:"flex items-center gap-2 text-gray-600 hover:text-gray-900 mb-4",children:[t.jsx(x,{className:"w-4 h-4"}),"Back to Dashboard"]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:v.program_name}),t.jsxs("p",{className:"text-gray-600 mt-2",children:["Phase ",v.phase," of ",v.total_phases," • ",v.days_active," days active"]})]}),t.jsx("span",{className:`px-4 py-2 rounded-full text-sm font-medium ${(e=>{switch(e){case"active":return"bg-green-100 text-green-800";case"passed":return"bg-blue-100 text-blue-800";case"failed":return"bg-red-100 text-red-800";case"funded":return"bg-yellow-100 text-yellow-800";default:return"bg-gray-100 text-gray-800"}})(v.status)}`,children:v.status})]})]})}),t.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[t.jsx("div",{className:"card",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-600",children:"Current Balance"}),t.jsxs("p",{className:"text-2xl font-bold text-gray-900 mt-1",children:["$",v.current_balance.toLocaleString()]}),t.jsxs("p",{className:"text-sm mt-1 "+(k?"text-green-600":"text-red-600"),children:[k?"+":"",v.current_profit.toLocaleString()," (",(v.current_profit/v.account_size*100).toFixed(2),"%)"]})]}),t.jsx("div",{className:"w-12 h-12 rounded-lg flex items-center justify-center "+(k?"bg-green-100":"bg-red-100"),children:t.jsx(m,{className:"w-6 h-6 "+(k?"text-green-600":"text-red-600")})})]})}),t.jsx("div",{className:"card",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-600",children:"Profit Target"}),t.jsxs("p",{className:"text-2xl font-bold text-gray-900 mt-1",children:["$",v.profit_target.toLocaleString()]}),t.jsx("div",{className:"mt-2 w-full bg-gray-200 rounded-full h-2",children:t.jsx("div",{className:"bg-primary-600 h-2 rounded-full transition-all",style:{width:`${Math.min($,100)}%`}})}),t.jsxs("p",{className:"text-xs text-gray-600 mt-1",children:[$.toFixed(1),"% achieved"]})]}),t.jsx("div",{className:"w-12 h-12 bg-primary-100 rounded-lg flex items-center justify-center",children:t.jsx(o,{className:"w-6 h-6 text-primary-600"})})]})}),t.jsx("div",{className:"card",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-600",children:"Win Rate"}),t.jsxs("p",{className:"text-2xl font-bold text-gray-900 mt-1",children:[v.win_rate,"%"]}),t.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:[v.winning_trades,"W / ",v.losing_trades,"L"]})]}),t.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center",children:t.jsx(h,{className:"w-6 h-6 text-blue-600"})})]})}),t.jsx("div",{className:"card",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-600",children:"Total Trades"}),t.jsx("p",{className:"text-2xl font-bold text-gray-900 mt-1",children:v.trades_count}),t.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:["Avg: ",(v.trades_count/v.days_active).toFixed(1),"/day"]})]}),t.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center",children:t.jsx(g,{className:"w-6 h-6 text-purple-600"})})]})})]}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[t.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[t.jsxs("div",{className:"card",children:[t.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-6",children:"Trading Statistics"}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{className:"p-4 bg-green-50 rounded-lg",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[t.jsx(j,{className:"w-5 h-5 text-green-600"}),t.jsx("span",{className:"text-sm font-medium text-green-900",children:"Best Trade"})]}),t.jsxs("p",{className:"text-2xl font-bold text-green-600",children:["+$",v.best_trade]})]}),t.jsxs("div",{className:"p-4 bg-red-50 rounded-lg",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[t.jsx(p,{className:"w-5 h-5 text-red-600"}),t.jsx("span",{className:"text-sm font-medium text-red-900",children:"Worst Trade"})]}),t.jsxs("p",{className:"text-2xl font-bold text-red-600",children:["$",v.worst_trade]})]}),t.jsxs("div",{className:"p-4 bg-blue-50 rounded-lg",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[t.jsx(a,{className:"w-5 h-5 text-blue-600"}),t.jsx("span",{className:"text-sm font-medium text-blue-900",children:"Avg Win"})]}),t.jsxs("p",{className:"text-2xl font-bold text-blue-600",children:["+$",v.average_win]})]}),t.jsxs("div",{className:"p-4 bg-orange-50 rounded-lg",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[t.jsx(r,{className:"w-5 h-5 text-orange-600"}),t.jsx("span",{className:"text-sm font-medium text-orange-900",children:"Avg Loss"})]}),t.jsxs("p",{className:"text-2xl font-bold text-orange-600",children:["$",v.average_loss]})]})]})]}),t.jsxs("div",{className:"card",children:[t.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-6",children:"Recent Trades"}),t.jsx("div",{className:"space-y-3",children:v.recent_trades.map(e=>t.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-10 h-10 rounded-lg flex items-center justify-center "+(e.profit>=0?"bg-green-100":"bg-red-100"),children:e.profit>=0?t.jsx(j,{className:"w-5 h-5 text-green-600"}):t.jsx(p,{className:"w-5 h-5 text-red-600"})}),t.jsxs("div",{children:[t.jsx("p",{className:"font-medium text-gray-900",children:e.symbol}),t.jsx("p",{className:"text-sm text-gray-600 capitalize",children:e.type})]})]}),t.jsxs("div",{className:"text-right",children:[t.jsxs("p",{className:"font-bold "+(e.profit>=0?"text-green-600":"text-red-600"),children:[e.profit>=0?"+":"","$",e.profit]}),t.jsx("p",{className:"text-xs text-gray-500",children:e.date})]})]},e.id))})]})]}),t.jsxs("div",{className:"lg:col-span-1 space-y-6",children:[t.jsxs("div",{className:"card",children:[t.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-6",children:"Challenge Rules"}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx(o,{className:"w-5 h-5 text-primary-600 flex-shrink-0 mt-0.5"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Profit Target"}),t.jsxs("p",{className:"text-sm text-gray-600",children:["$",v.rules.profit_target.toLocaleString()]})]})]}),t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx(l,{className:"w-5 h-5 text-red-600 flex-shrink-0 mt-0.5"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Max Daily Loss"}),t.jsxs("p",{className:"text-sm text-gray-600",children:["$",v.rules.max_daily_loss.toLocaleString()]})]})]}),t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx(r,{className:"w-5 h-5 text-red-600 flex-shrink-0 mt-0.5"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Max Total Loss"}),t.jsxs("p",{className:"text-sm text-gray-600",children:["$",v.rules.max_total_loss.toLocaleString()]})]})]}),t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx(f,{className:"w-5 h-5 text-blue-600 flex-shrink-0 mt-0.5"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Trading Days"}),t.jsxs("p",{className:"text-sm text-gray-600",children:["Min: ",v.rules.min_trading_days," • Max: ",v.rules.max_trading_days]})]})]}),v.rules.consistency_rule&&t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx(a,{className:"w-5 h-5 text-green-600 flex-shrink-0 mt-0.5"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Consistency Rule"}),t.jsx("p",{className:"text-sm text-gray-600",children:"No single day > 40% of total profit"})]})]})]})]}),t.jsxs("div",{className:"card",children:[t.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Profit Split"}),t.jsx("div",{className:"flex items-center justify-center",children:t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"inline-flex items-center justify-center w-24 h-24 bg-yellow-100 rounded-full mb-3",children:t.jsx(N,{className:"w-12 h-12 text-yellow-600"})}),t.jsxs("p",{className:"text-4xl font-bold text-gray-900",children:[v.profit_split,"%"]}),t.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Your profit share"})]})})]}),t.jsxs("div",{className:"card",children:[t.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"MetaTrader"}),t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg text-center",children:[t.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"Connect your MT4/MT5 account"}),t.jsx("button",{className:"btn btn-primary w-full",children:"Connect Account"})]})]})]})]})]})]})})}export{u as default};
