var e=(e,s,t)=>new Promise((a,r)=>{var l=e=>{try{n(t.next(e))}catch(s){r(s)}},i=e=>{try{n(t.throw(e))}catch(s){r(s)}},n=e=>e.done?a(e.value):Promise.resolve(e.value).then(l,i);n((t=t.apply(e,s)).next())});import{j as s,a as t}from"./index--3H6Qwg0.js";import{h as a,u as r,b as l}from"./react-vendor-DvHQdeg3.js";import{a as i}from"./utils-BQl1bh9w.js";import{C as n}from"./credit-card-CRt_vp3a.js";import{L as c}from"./lock-vG0yqcKS.js";const d=()=>{var d;const{programId:o}=a(),m=r(),[x,h]=l.useState(null),[j,u]=l.useState(!0),[p,b]=l.useState(!1),[N,f]=l.useState("");l.useEffect(()=>{v()},[o]);const v=()=>e(null,null,function*(){try{const e=yield i.get(`undefined/api/programs/${o}`);h(e.data),u(!1)}catch(e){console.error("Error fetching program:",e),f("Failed to load program details"),u(!1)}});return j?s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900 flex items-center justify-center",children:s.jsx("div",{className:"text-cyan-400 text-2xl",children:"Loading..."})}):N&&!x?s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-red-400 text-2xl mb-4",children:N}),s.jsx("button",{onClick:()=>m("/programs"),className:"px-6 py-3 bg-cyan-500 text-white rounded-lg hover:bg-cyan-600 transition",children:"Back to Programs"})]})}):s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900 py-12 px-4",children:s.jsxs("div",{className:"max-w-4xl mx-auto",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx("h1",{className:"text-4xl font-bold text-white mb-2",children:"Complete Your Purchase"}),s.jsx("p",{className:"text-gray-400",children:"You're one step away from getting funded!"})]}),s.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[s.jsxs("div",{className:"bg-slate-800/50 backdrop-blur-sm rounded-2xl p-6 border border-slate-700",children:[s.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"Program Details"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-bold text-cyan-400 mb-2",children:null==x?void 0:x.name}),s.jsx("p",{className:"text-gray-400",children:null==x?void 0:x.description})]}),s.jsxs("div",{className:"border-t border-slate-700 pt-4",children:[s.jsxs("div",{className:"flex justify-between mb-2",children:[s.jsx("span",{className:"text-gray-400",children:"Account Size"}),s.jsxs("span",{className:"text-white font-semibold",children:["$",null==(d=null==x?void 0:x.account_size)?void 0:d.toLocaleString()]})]}),s.jsxs("div",{className:"flex justify-between mb-2",children:[s.jsx("span",{className:"text-gray-400",children:"Profit Target"}),s.jsxs("span",{className:"text-green-400 font-semibold",children:[null==x?void 0:x.profit_target,"%"]})]}),s.jsxs("div",{className:"flex justify-between mb-2",children:[s.jsx("span",{className:"text-gray-400",children:"Max Daily Loss"}),s.jsxs("span",{className:"text-red-400 font-semibold",children:[null==x?void 0:x.max_daily_loss,"%"]})]}),s.jsxs("div",{className:"flex justify-between mb-2",children:[s.jsx("span",{className:"text-gray-400",children:"Profit Split"}),s.jsxs("span",{className:"text-cyan-400 font-semibold",children:[null==x?void 0:x.profit_split,"%"]})]})]}),s.jsxs("div",{className:"border-t border-slate-700 pt-4",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-xl font-bold text-white",children:"Total"}),s.jsxs("span",{className:"text-3xl font-bold text-cyan-400",children:["$",null==x?void 0:x.price]})]}),s.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"One-time payment"})]})]}),s.jsxs("div",{className:"mt-6 space-y-2",children:[s.jsxs("div",{className:"flex items-center text-green-400",children:[s.jsx(t,{className:"mr-2"}),s.jsx("span",{children:"Instant Account Activation"})]}),s.jsxs("div",{className:"flex items-center text-green-400",children:[s.jsx(t,{className:"mr-2"}),s.jsx("span",{children:"24/7 Support"})]}),s.jsxs("div",{className:"flex items-center text-green-400",children:[s.jsx(t,{className:"mr-2"}),s.jsx("span",{children:"Fast Payouts"})]}),s.jsxs("div",{className:"flex items-center text-green-400",children:[s.jsx(t,{className:"mr-2"}),s.jsx("span",{children:"No Hidden Fees"})]})]})]}),s.jsxs("div",{className:"bg-slate-800/50 backdrop-blur-sm rounded-2xl p-6 border border-slate-700",children:[s.jsxs("h2",{className:"text-2xl font-bold text-white mb-4 flex items-center",children:[s.jsx(n,{className:"mr-2 text-cyan-400"}),"Payment Method"]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-3",children:[s.jsx("div",{className:"bg-slate-700/50 p-4 rounded-lg border-2 border-cyan-500",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(n,{className:"text-cyan-400 text-2xl mr-3"}),s.jsxs("div",{children:[s.jsx("div",{className:"text-white font-semibold",children:"Credit / Debit Card"}),s.jsx("div",{className:"text-sm text-gray-400",children:"Visa, Mastercard, Amex"})]})]}),s.jsx("input",{type:"radio",name:"payment",defaultChecked:!0,className:"w-5 h-5"})]})}),s.jsx("div",{className:"bg-slate-700/30 p-4 rounded-lg border border-slate-600 opacity-50",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"text-2xl mr-3",children:"üí≥"}),s.jsxs("div",{children:[s.jsx("div",{className:"text-white font-semibold",children:"PayPal"}),s.jsx("div",{className:"text-sm text-gray-400",children:"Coming soon"})]})]}),s.jsx("input",{type:"radio",name:"payment",disabled:!0,className:"w-5 h-5"})]})})]}),N&&s.jsx("div",{className:"bg-red-500/10 border border-red-500 rounded-lg p-3",children:s.jsx("p",{className:"text-red-400 text-sm",children:N})}),s.jsx("button",{onClick:()=>e(null,null,function*(){var e,s;b(!0),f("");try{const e=localStorage.getItem("access_token");if(!e)return void m("/login",{state:{from:`/programs/${o}/checkout`}});const s=yield i.post("undefined/api/payments/create-checkout",{program_id:o},{headers:{Authorization:`Bearer ${e}`}});s.data.checkout_url?window.location.href=s.data.checkout_url:(f("Failed to create checkout session"),b(!1))}catch(t){console.error("Checkout error:",t),f((null==(s=null==(e=t.response)?void 0:e.data)?void 0:s.message)||"Failed to process checkout"),b(!1)}}),disabled:p,className:"w-full bg-gradient-to-r from-cyan-500 to-blue-500 text-white py-4 rounded-lg font-bold text-lg hover:from-cyan-600 hover:to-blue-600 transition disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center",children:p?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-2"}),"Processing..."]}):s.jsxs(s.Fragment,{children:[s.jsx(c,{className:"mr-2"}),"Proceed to Secure Checkout"]})}),s.jsxs("div",{className:"flex items-center justify-center text-gray-400 text-sm mt-4",children:[s.jsx(c,{className:"mr-2"}),s.jsx("span",{children:"Secured by Stripe - Your payment information is encrypted"})]}),s.jsx("div",{className:"bg-green-500/10 border border-green-500 rounded-lg p-4 mt-4",children:s.jsxs("div",{className:"flex items-start",children:[s.jsx(t,{className:"text-green-400 text-xl mr-3 mt-1"}),s.jsxs("div",{children:[s.jsx("div",{className:"text-white font-semibold mb-1",children:"14-Day Money Back Guarantee"}),s.jsx("p",{className:"text-sm text-gray-400",children:"Not satisfied? Get a full refund within 14 days, no questions asked."})]})]})})]})]})]}),s.jsx("div",{className:"text-center mt-8",children:s.jsx("button",{onClick:()=>m("/programs"),className:"text-gray-400 hover:text-white transition",children:"‚Üê Back to Programs"})})]})})};export{d as default};
