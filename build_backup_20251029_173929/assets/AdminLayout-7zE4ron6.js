import{c as e,u as t,j as s}from"./index-DqkTwD-s.js";import{f as a,u as r,b as l,L as i}from"./react-vendor-DvHQdeg3.js";import{L as o}from"./layout-dashboard-fs3DRDF9.js";import{U as n}from"./users-BVgKNIBL.js";import{T as d}from"./trending-up-Dcs9Nss-.js";import{D as c}from"./dollar-sign-SSeq8JkS.js";import{C as m}from"./credit-card-DZca0_I8.js";import{S as h}from"./shield-CdhCyGSO.js";import{C as x}from"./chart-column-e0EaDSIJ.js";import{S as p}from"./settings-tnJAvijD.js";import{C as u}from"./chevron-right-G9mznouP.js";import{L as g}from"./log-out-B0bR_UgM.js";import{S as b}from"./search-CV32O8aY.js";import{B as f}from"./bell-kEvb-CIU.js";import"./utils-BQl1bh9w.js";
/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j=e("square-check-big",[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);function v({children:e}){var v,w,N;const y=a(),k=r(),{user:C,logout:S}=t(),[L,A]=l.useState(!0),[P,z]=l.useState(!1),[_,D]=l.useState(!1),[O,T]=l.useState(""),[B,F]=l.useState([]),I=localStorage.getItem("role"),M=[{title:"Dashboard",path:"/admin",icon:o},{title:"Users",path:"/admin/users",icon:n},{title:"Programs",path:"/admin/programs",icon:d},{title:"Payments",path:"/admin/payments",icon:c},{title:"Withdrawals",path:"/admin/withdrawals",icon:m},{title:"KYC Approval",path:"/admin/kyc-approval",icon:h},{title:"Payment Approvals",path:"/admin/payment-approvals",icon:j},{title:"Analytics",path:"/admin/analytics",icon:x},{title:"Blog",path:"/admin/blog",icon:FileText,supermasterOnly:!0},{title:"Settings",path:"/admin/settings",icon:p}].filter(e=>!e.supermasterOnly||"supermaster"===I),U=e=>"/admin"===e?"/admin"===y.pathname:y.pathname.startsWith(e);return s.jsxs("div",{className:"flex h-screen bg-slate-900",children:[s.jsxs("aside",{className:"w-64 bg-slate-800/50 backdrop-blur-sm border-r border-white/10 flex flex-col",children:[s.jsx("div",{className:"p-6 border-b border-white/10",children:s.jsxs(i,{to:"/admin",className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-lg bg-gradient-to-br from-red-500 to-orange-500 flex items-center justify-center shadow-lg shadow-red-500/20",children:s.jsx(h,{className:"w-6 h-6 text-white"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-xl font-bold text-white",children:"Admin Panel"}),s.jsx("p",{className:"text-xs text-gray-400",children:"Management Console"})]})]})}),s.jsxs("div",{className:"p-4 border-b border-white/10",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-red-500 to-orange-500 flex items-center justify-center text-white font-bold",children:[null==(v=null==C?void 0:C.first_name)?void 0:v[0],null==(w=null==C?void 0:C.last_name)?void 0:w[0]]}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("p",{className:"text-sm font-medium text-white truncate",children:[null==C?void 0:C.first_name," ",null==C?void 0:C.last_name]}),s.jsx("p",{className:"text-xs text-gray-400 truncate",children:null==C?void 0:C.email})]})]}),s.jsx("div",{className:"mt-2",children:s.jsx("span",{className:"inline-block px-2 py-1 text-xs font-medium bg-gradient-to-r from-red-500/20 to-orange-500/20 text-red-400 rounded border border-red-500/30",children:"Administrator"})})]}),s.jsx("nav",{className:"flex-1 overflow-y-auto p-4",children:s.jsx("ul",{className:"space-y-1",children:M.map(e=>{const t=e.icon,a=U(e.path);return s.jsx("li",{children:s.jsxs(i,{to:e.path,className:"flex items-center gap-3 px-4 py-3 rounded-lg transition-all duration-200 "+(a?"bg-gradient-to-r from-red-500 to-orange-500 text-white shadow-lg shadow-red-500/20":"text-gray-300 hover:bg-white/5 hover:text-white"),children:[s.jsx(t,{className:"w-5 h-5"}),s.jsx("span",{className:"font-medium",children:e.title}),a&&s.jsx(u,{className:"w-4 h-4 ml-auto"})]})},e.path)})})}),s.jsx("div",{className:"p-4 border-t border-white/10",children:s.jsxs("button",{onClick:()=>{return e=null,t=null,s=function*(){yield S(),k("/login")},new Promise((a,r)=>{var l=e=>{try{o(s.next(e))}catch(t){r(t)}},i=e=>{try{o(s.throw(e))}catch(t){r(t)}},o=e=>e.done?a(e.value):Promise.resolve(e.value).then(l,i);o((s=s.apply(e,t)).next())});var e,t,s},className:"flex items-center gap-3 px-4 py-3 rounded-lg text-gray-300 hover:bg-red-500/20 hover:text-red-400 transition-all duration-200 w-full",children:[s.jsx(g,{className:"w-5 h-5"}),s.jsx("span",{className:"font-medium",children:"Logout"})]})})]}),s.jsxs("main",{className:"flex-1 overflow-y-auto flex flex-col",children:[s.jsx("div",{className:"sticky top-0 z-20 bg-slate-800/50 backdrop-blur-xl border-b border-white/10 px-8 py-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h2",{className:"text-2xl font-bold text-white",children:(null==(N=M.find(e=>U(e.path)))?void 0:N.title)||"Dashboard"}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("div",{className:"relative",children:[s.jsx("button",{onClick:()=>{z(!P),D(!1)},className:"p-2 rounded-xl bg-slate-700/30 hover:bg-slate-700/50 text-gray-300 hover:text-white transition-all duration-200",children:s.jsx(b,{className:"w-5 h-5"})}),P&&s.jsxs("div",{className:"absolute top-full right-0 mt-2 w-96 bg-slate-800/95 backdrop-blur-xl border border-white/10 rounded-xl shadow-2xl overflow-hidden z-30",children:[s.jsx("div",{className:"p-4 border-b border-white/10",children:s.jsx("input",{type:"text",value:O,onChange:e=>(e=>{if(T(e),e.trim().length<2)return void F([]);const t=M.filter(t=>t.title.toLowerCase().includes(e.toLowerCase())).map(e=>({title:e.title,path:e.path,type:"page"}));F(t)})(e.target.value),placeholder:"Search pages...",autoFocus:!0,className:"w-full px-4 py-3 bg-slate-900/50 border border-white/10 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-cyan-500"})}),B.length>0?s.jsx("div",{className:"max-h-64 overflow-y-auto",children:B.map((e,t)=>s.jsxs("button",{onClick:()=>{return t=e.path,k(t),z(!1),T(""),void F([]);var t},className:"w-full px-4 py-3 text-left hover:bg-slate-700/50 transition-colors border-b border-white/5 last:border-0",children:[s.jsx("p",{className:"text-white font-medium",children:e.title}),s.jsx("p",{className:"text-xs text-gray-400 mt-1",children:e.path})]},t))}):O.length>=2?s.jsx("div",{className:"p-8 text-center",children:s.jsx("p",{className:"text-gray-400",children:"No results found"})}):s.jsx("div",{className:"p-4",children:s.jsx("p",{className:"text-sm text-gray-400",children:"Type to search pages..."})})]})]}),s.jsxs("div",{className:"relative",children:[s.jsxs("button",{onClick:()=>{D(!_),z(!1)},className:"relative p-2 rounded-xl bg-slate-700/30 hover:bg-slate-700/50 text-gray-300 hover:text-white transition-all duration-200",children:[s.jsx(f,{className:"w-5 h-5"}),s.jsx("span",{className:"absolute top-1 right-1 w-2 h-2 bg-red-500 rounded-full animate-pulse"})]}),_&&s.jsxs("div",{className:"absolute top-full right-0 mt-2 w-96 bg-slate-800/95 backdrop-blur-xl border border-white/10 rounded-xl shadow-2xl overflow-hidden z-30",children:[s.jsx("div",{className:"p-4 border-b border-white/10",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(f,{className:"w-5 h-5 text-white"}),s.jsx("h3",{className:"text-lg font-semibold text-white",children:"Notifications"})]})}),s.jsx("div",{className:"p-8 text-center",children:s.jsx("p",{className:"text-gray-400",children:"No notifications"})})]})]})]})]})}),s.jsx("div",{className:"flex-1",children:e})]})]})}export{v as default};
