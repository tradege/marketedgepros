import{h as e,j as s}from"./index-BpA4a7fq.js";import{b as t}from"./react-vendor-DvHQdeg3.js";import a from"./AgentLayout-BVzTUu3r.js";import{S as l}from"./search-B5tKl3TC.js";import{F as r}from"./funnel-DjNvhTBD.js";import{E as n}from"./eye-CkMRBHHf.js";import{M as i}from"./mail-B3BbTSid.js";import{P as c}from"./phone-pQmhsdZx.js";import{T as d}from"./trending-up-BwA286DY.js";import{A as x}from"./award-DgeaS9Gi.js";import"./utils-BQl1bh9w.js";import"./layout-dashboard-DTEVjEeg.js";import"./users-Dg8kx8Oa.js";import"./dollar-sign-DZEpYYM0.js";import"./chart-column-D0KgdeOi.js";import"./user-BTZv5bxj.js";import"./log-out-BWg0X_lj.js";import"./menu-CRHi4vxm.js";function m(){const[m,o]=t.useState([]),[h,j]=t.useState(!0),[p,g]=t.useState(""),[u,f]=t.useState("all"),[N,b]=t.useState(null),[v,y]=t.useState(!1);t.useEffect(()=>{w()},[]);const w=()=>{return s=null,t=null,a=function*(){try{j(!0);const s=yield e.get("/agent/traders");o(s.data.traders||[])}catch(s){o([{id:1,name:"John Trader",email:"john@example.com",phone:"+1 234 567 8900",status:"active",program:"Two Phase $100K",enrolled_date:"2024-10-01",current_balance:102450,profit_loss:2450,total_trades:47,win_rate:68.5,challenge_phase:"Phase 2"},{id:2,name:"Jane Smith",email:"jane@example.com",phone:"+1 234 567 8901",status:"active",program:"One Phase $50K",enrolled_date:"2024-10-05",current_balance:51230,profit_loss:1230,total_trades:32,win_rate:71.2,challenge_phase:"Phase 1"},{id:3,name:"Bob Wilson",email:"bob@example.com",phone:"+1 234 567 8902",status:"funded",program:"Instant Funding $200K",enrolled_date:"2024-09-15",current_balance:215890,profit_loss:15890,total_trades:124,win_rate:74.3,challenge_phase:"Funded"},{id:4,name:"Alice Brown",email:"alice@example.com",phone:"+1 234 567 8903",status:"failed",program:"Two Phase $100K",enrolled_date:"2024-09-20",current_balance:0,profit_loss:-1e4,total_trades:28,win_rate:42.8,challenge_phase:"Failed"}])}finally{j(!1)}},new Promise((e,l)=>{var r=e=>{try{i(a.next(e))}catch(s){l(s)}},n=e=>{try{i(a.throw(e))}catch(s){l(s)}},i=s=>s.done?e(s.value):Promise.resolve(s.value).then(r,n);i((a=a.apply(s,t)).next())});var s,t,a},_=m.filter(e=>{const s=e.name.toLowerCase().includes(p.toLowerCase())||e.email.toLowerCase().includes(p.toLowerCase()),t="all"===u||e.status===u;return s&&t}),P=e=>{switch(e){case"active":return"bg-green-100 text-green-800";case"funded":return"bg-yellow-100 text-yellow-800";case"failed":return"bg-red-100 text-red-800";default:return"bg-slate-700/50 text-gray-100"}};return h?s.jsx(a,{children:s.jsx("div",{className:"min-h-screen flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"}),s.jsx("p",{className:"text-gray-300 mt-4",children:"Loading traders..."})]})})}):s.jsxs(a,{children:[s.jsxs("div",{className:"min-h-screen bg-slate-900",children:[s.jsx("div",{className:"bg-slate-800/50 border-b border-white/10",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:[s.jsx("h1",{className:"text-3xl font-bold text-white",children:"My Traders"}),s.jsx("p",{className:"text-gray-300 mt-2",children:"Manage and monitor your traders' performance"})]})}),s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[s.jsxs("div",{className:"card",children:[s.jsx("p",{className:"text-sm text-gray-300",children:"Total Traders"}),s.jsx("p",{className:"text-2xl font-bold text-white mt-1",children:m.length})]}),s.jsxs("div",{className:"card",children:[s.jsx("p",{className:"text-sm text-gray-300",children:"Active"}),s.jsx("p",{className:"text-2xl font-bold text-green-600 mt-1",children:m.filter(e=>"active"===e.status).length})]}),s.jsxs("div",{className:"card",children:[s.jsx("p",{className:"text-sm text-gray-300",children:"Funded"}),s.jsx("p",{className:"text-2xl font-bold text-yellow-600 mt-1",children:m.filter(e=>"funded"===e.status).length})]}),s.jsxs("div",{className:"card",children:[s.jsx("p",{className:"text-sm text-gray-300",children:"Avg Win Rate"}),s.jsxs("p",{className:"text-2xl font-bold text-white mt-1",children:[(m.reduce((e,s)=>e+s.win_rate,0)/m.length).toFixed(1),"%"]})]})]}),s.jsx("div",{className:"bg-slate-800/50 rounded-lg shadow-sm p-4 mb-6",children:s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[s.jsxs("div",{className:"flex-1 relative",children:[s.jsx(l,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),s.jsx("input",{type:"text",placeholder:"Search traders by name or email...",value:p,onChange:e=>g(e.target.value),className:"input pl-10 w-full"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(r,{className:"w-5 h-5 text-gray-400"}),s.jsxs("select",{value:u,onChange:e=>f(e.target.value),className:"input",children:[s.jsx("option",{value:"all",children:"All Status"}),s.jsx("option",{value:"active",children:"Active"}),s.jsx("option",{value:"funded",children:"Funded"}),s.jsx("option",{value:"failed",children:"Failed"}),s.jsx("option",{value:"pending",children:"Pending"})]})]})]})}),s.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:_.map(e=>s.jsxs("div",{className:"card",children:[s.jsxs("div",{className:"flex items-start justify-between mb-4",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-12 h-12 bg-primary-100 rounded-full flex items-center justify-center",children:s.jsx("span",{className:"text-primary-600 font-semibold text-lg",children:e.name.charAt(0)})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-bold text-white",children:e.name}),s.jsx("p",{className:"text-sm text-gray-300",children:e.email})]})]}),s.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${P(e.status)}`,children:e.status})]}),s.jsxs("div",{className:"space-y-3 mb-4",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm text-gray-300",children:"Program"}),s.jsx("span",{className:"text-sm font-medium text-white",children:e.program})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm text-gray-300",children:"Phase"}),s.jsx("span",{className:"text-sm font-medium text-white",children:e.challenge_phase})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm text-gray-300",children:"Current Balance"}),s.jsxs("span",{className:"text-sm font-bold text-white",children:["$",e.current_balance.toLocaleString()]})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm text-gray-300",children:"P&L"}),s.jsxs("span",{className:"text-sm font-bold "+(e.profit_loss>=0?"text-green-600":"text-red-600"),children:[e.profit_loss>=0?"+":"","$",e.profit_loss.toLocaleString()]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4 p-3 bg-slate-900 rounded-lg",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-300",children:"Total Trades"}),s.jsx("p",{className:"text-lg font-bold text-white",children:e.total_trades})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-300",children:"Win Rate"}),s.jsxs("p",{className:"text-lg font-bold text-white",children:[e.win_rate,"%"]})]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs("button",{onClick:()=>{b(e),y(!0)},className:"flex-1 btn btn-secondary text-sm flex items-center justify-center gap-2",children:[s.jsx(n,{className:"w-4 h-4"}),"View Details"]}),s.jsx("button",{className:"btn btn-secondary text-sm p-2",children:s.jsx(i,{className:"w-4 h-4"})}),s.jsx("button",{className:"btn btn-secondary text-sm p-2",children:s.jsx(c,{className:"w-4 h-4"})})]})]},e.id))}),0===_.length&&s.jsx("div",{className:"text-center py-12",children:s.jsx("p",{className:"text-gray-300",children:"No traders found"})})]})]}),v&&N&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-slate-800/50 rounded-lg max-w-3xl w-full max-h-[90vh] overflow-y-auto",children:[s.jsx("div",{className:"p-6 border-b border-white/10",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-12 h-12 bg-primary-100 rounded-full flex items-center justify-center",children:s.jsx("span",{className:"text-primary-600 font-semibold text-lg",children:N.name.charAt(0)})}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold text-white",children:N.name}),s.jsx("p",{className:"text-gray-300",children:N.email})]})]}),s.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${P(N.status)}`,children:N.status})]})}),s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-bold text-white mb-4",children:"Account Information"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-300",children:"Program"}),s.jsx("p",{className:"font-medium text-white",children:N.program})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-300",children:"Challenge Phase"}),s.jsx("p",{className:"font-medium text-white",children:N.challenge_phase})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-300",children:"Enrolled Date"}),s.jsx("p",{className:"font-medium text-white",children:new Date(N.enrolled_date).toLocaleDateString()})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-300",children:"Phone"}),s.jsx("p",{className:"font-medium text-white",children:N.phone})]})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-bold text-white mb-4",children:"Performance Metrics"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-300",children:"Current Balance"}),s.jsxs("p",{className:"text-2xl font-bold text-white",children:["$",N.current_balance.toLocaleString()]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-300",children:"Profit/Loss"}),s.jsxs("p",{className:"text-2xl font-bold "+(N.profit_loss>=0?"text-green-600":"text-red-600"),children:[N.profit_loss>=0?"+":"","$",N.profit_loss.toLocaleString()]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-300",children:"Total Trades"}),s.jsx("p",{className:"text-xl font-bold text-white",children:N.total_trades})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-300",children:"Win Rate"}),s.jsxs("p",{className:"text-xl font-bold text-white",children:[N.win_rate,"%"]})]})]})]})]})]}),s.jsx("div",{className:"mt-6 pt-6 border-t border-white/10",children:s.jsxs("div",{className:"flex gap-3",children:[s.jsxs("button",{className:"btn btn-primary flex-1 flex items-center justify-center gap-2",children:[s.jsx(d,{className:"w-5 h-5"}),"View Trading History"]}),s.jsxs("button",{className:"btn btn-secondary flex-1 flex items-center justify-center gap-2",children:[s.jsx(x,{className:"w-5 h-5"}),"View Commissions"]})]})})]}),s.jsx("div",{className:"p-6 border-t border-white/10",children:s.jsx("button",{onClick:()=>y(!1),className:"btn btn-secondary w-full",children:"Close"})})]})})]})}export{m as default};
