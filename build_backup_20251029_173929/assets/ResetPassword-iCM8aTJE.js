import{j as e,a as t,C as s}from"./index-CyU3HRDM.js";import{u as a,f as r,b as l,L as o}from"./react-vendor-DvHQdeg3.js";import{L as n}from"./Layout-Bu57l5_u.js";import{a as d}from"./utils-BQl1bh9w.js";import{L as i}from"./lock-BDd-BGyk.js";import{M as c}from"./mail-DyD7dFv1.js";import{E as m}from"./eye-off-CpOMFQiO.js";import{E as x}from"./eye-DSFnrrMC.js";import"./menu-CQPIq17m.js";function u(){var u;const h=a(),p=(null==(u=r().state)?void 0:u.email)||"",[b,g]=l.useState(p),[f,w]=l.useState(""),[y,j]=l.useState(""),[v,N]=l.useState(""),[P,k]=l.useState(!1),[S,C]=l.useState(!1),[R,L]=l.useState(!1),[q,E]=l.useState(""),[D,A]=l.useState(!1);return D?e.jsx(n,{children:e.jsx("div",{className:"min-h-[calc(100vh-200px)] flex items-center justify-center px-4 py-12 bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900",children:e.jsx("div",{className:"max-w-md w-full",children:e.jsxs("div",{className:"bg-slate-800/50 backdrop-blur-xl border border-white/10 rounded-2xl shadow-2xl p-8 text-center",children:[e.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-gradient-to-br from-green-500/20 to-emerald-500/20 rounded-full mb-4 border border-green-500/30",children:e.jsx(t,{className:"w-8 h-8 text-green-400"})}),e.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"Password Reset Successfully!"}),e.jsx("p",{className:"text-gray-400 mb-6",children:"Your password has been updated. Redirecting to login..."}),e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-cyan-500 mx-auto"})]})})})}):e.jsx(n,{children:e.jsx("div",{className:"min-h-[calc(100vh-200px)] flex items-center justify-center px-4 py-12 bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900",children:e.jsxs("div",{className:"max-w-md w-full",children:[e.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[e.jsx("div",{className:"absolute top-1/4 left-1/4 w-96 h-96 bg-cyan-500/10 rounded-full blur-3xl"}),e.jsx("div",{className:"absolute bottom-1/4 right-1/4 w-96 h-96 bg-teal-500/10 rounded-full blur-3xl"})]}),e.jsxs("div",{className:"relative bg-slate-800/50 backdrop-blur-xl border border-white/10 rounded-2xl shadow-2xl p-8",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-gradient-to-br from-cyan-500 to-teal-500 rounded-full mb-4 shadow-lg shadow-cyan-500/30",children:e.jsx(i,{className:"w-8 h-8 text-white"})}),e.jsx("h2",{className:"text-3xl font-bold text-white",children:"Reset Password"}),e.jsx("p",{className:"text-gray-400 mt-2",children:"Enter the code from your email and create a new password"})]}),q&&e.jsxs("div",{className:"mb-4 p-4 bg-red-500/10 border border-red-500/30 rounded-lg flex items-start gap-3",children:[e.jsx(s,{className:"w-5 h-5 text-red-400 flex-shrink-0 mt-0.5"}),e.jsx("p",{className:"text-sm text-red-300",children:q})]}),e.jsxs("form",{onSubmit:e=>{return t=null,s=null,a=function*(){var t,s;if(e.preventDefault(),E(""),y===v)if(y.length<8)E("Password must be at least 8 characters long");else if(/[A-Z]/.test(y))if(/[a-z]/.test(y))if(/[0-9]/.test(y)){L(!0);try{yield d.post("https://marketedgepros.com/api/v1/auth/password/reset-with-code",{email:b,code:f,new_password:y}),A(!0),setTimeout(()=>{h("/login",{state:{message:"Password reset successfully! Please login with your new password."}})},2e3)}catch(a){E((null==(s=null==(t=a.response)?void 0:t.data)?void 0:s.error)||"Password reset failed. Please check your code and try again.")}finally{L(!1)}}else E("Password must contain at least one number");else E("Password must contain at least one lowercase letter");else E("Password must contain at least one uppercase letter");else E("Passwords do not match")},new Promise((r,l)=>{var o=t=>{try{d(a.next(t))}catch(e){l(e)}},n=t=>{try{d(a.throw(t))}catch(e){l(e)}},d=e=>e.done?r(e.value):Promise.resolve(e.value).then(o,n);d((a=a.apply(t,s)).next())});var t,s,a},className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Email Address"}),e.jsxs("div",{className:"relative",children:[e.jsx(c,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),e.jsx("input",{type:"email",value:b,onChange:e=>g(e.target.value),placeholder:"you@example.com",className:"w-full pl-10 pr-4 py-3 bg-slate-900/50 border border-white/10 rounded-lg focus:ring-2 focus:ring-cyan-500 focus:border-transparent text-white placeholder-gray-500",required:!0})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"6-Digit Reset Code"}),e.jsx("input",{type:"text",value:f,onChange:e=>{const t=e.target.value.replace(/\D/g,"");t.length<=6&&(w(t),E(""))},placeholder:"000000",maxLength:"6",className:"w-full px-4 py-3 bg-slate-900/50 border border-white/10 rounded-lg focus:ring-2 focus:ring-cyan-500 focus:border-transparent text-center text-2xl tracking-widest text-white placeholder-gray-500",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"New Password"}),e.jsxs("div",{className:"relative",children:[e.jsx(i,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),e.jsx("input",{type:P?"text":"password",value:y,onChange:e=>j(e.target.value),placeholder:"••••••••",className:"w-full pl-10 pr-12 py-3 bg-slate-900/50 border border-white/10 rounded-lg focus:ring-2 focus:ring-cyan-500 focus:border-transparent text-white placeholder-gray-500",required:!0}),e.jsx("button",{type:"button",onClick:()=>k(!P),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-300",children:P?e.jsx(m,{className:"w-5 h-5"}):e.jsx(x,{className:"w-5 h-5"})})]}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Must be at least 8 characters with uppercase, lowercase, and number"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Confirm New Password"}),e.jsxs("div",{className:"relative",children:[e.jsx(i,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),e.jsx("input",{type:S?"text":"password",value:v,onChange:e=>N(e.target.value),placeholder:"••••••••",className:"w-full pl-10 pr-12 py-3 bg-slate-900/50 border border-white/10 rounded-lg focus:ring-2 focus:ring-cyan-500 focus:border-transparent text-white placeholder-gray-500",required:!0}),e.jsx("button",{type:"button",onClick:()=>C(!S),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-300",children:S?e.jsx(m,{className:"w-5 h-5"}):e.jsx(x,{className:"w-5 h-5"})})]})]}),e.jsx("button",{type:"submit",disabled:R||6!==f.length,className:"w-full bg-gradient-to-r from-cyan-500 to-teal-500 text-white py-3 px-4 rounded-lg font-semibold hover:from-cyan-600 hover:to-teal-600 transition-all shadow-lg shadow-cyan-500/30 disabled:opacity-50 disabled:cursor-not-allowed",children:R?"Resetting Password...":"Reset Password"})]}),e.jsx("div",{className:"mt-6 text-center",children:e.jsxs("p",{className:"text-sm text-gray-400",children:["Remember your password?"," ",e.jsx(o,{to:"/login",className:"text-cyan-400 hover:text-cyan-300 font-medium",children:"Sign in"})]})})]})]})})})}export{u as default};
