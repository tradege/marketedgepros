import{c as e,j as t,a as s,C as a}from"./index-CpeB0UFm.js";import{u as r,f as l,b as o,L as n}from"./react-vendor-DvHQdeg3.js";import{L as d}from"./Layout-q7mo2PjH.js";import{a as i}from"./utils-BQl1bh9w.js";import{L as c}from"./lock-O2eVIVCF.js";import{M as m}from"./mail-DAuHSBUR.js";import{E as x}from"./eye-CbsE17-D.js";import"./log-out-C61JdO1G.js";import"./menu-xvxzJXKs.js";
/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u=e("eye-off",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);function h(){var e;const h=r(),p=(null==(e=l().state)?void 0:e.email)||"",[b,g]=o.useState(p),[f,w]=o.useState(""),[y,j]=o.useState(""),[v,N]=o.useState(""),[k,P]=o.useState(!1),[S,C]=o.useState(!1),[R,L]=o.useState(!1),[M,q]=o.useState(""),[D,E]=o.useState(!1);return D?t.jsx(d,{children:t.jsx("div",{className:"min-h-[calc(100vh-200px)] flex items-center justify-center px-4 py-12 bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900",children:t.jsx("div",{className:"max-w-md w-full",children:t.jsxs("div",{className:"bg-slate-800/50 backdrop-blur-xl border border-white/10 rounded-2xl shadow-2xl p-8 text-center",children:[t.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-gradient-to-br from-green-500/20 to-emerald-500/20 rounded-full mb-4 border border-green-500/30",children:t.jsx(s,{className:"w-8 h-8 text-green-400"})}),t.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"Password Reset Successfully!"}),t.jsx("p",{className:"text-gray-400 mb-6",children:"Your password has been updated. Redirecting to login..."}),t.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-cyan-500 mx-auto"})]})})})}):t.jsx(d,{children:t.jsx("div",{className:"min-h-[calc(100vh-200px)] flex items-center justify-center px-4 py-12 bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900",children:t.jsxs("div",{className:"max-w-md w-full",children:[t.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[t.jsx("div",{className:"absolute top-1/4 left-1/4 w-96 h-96 bg-cyan-500/10 rounded-full blur-3xl"}),t.jsx("div",{className:"absolute bottom-1/4 right-1/4 w-96 h-96 bg-teal-500/10 rounded-full blur-3xl"})]}),t.jsxs("div",{className:"relative bg-slate-800/50 backdrop-blur-xl border border-white/10 rounded-2xl shadow-2xl p-8",children:[t.jsxs("div",{className:"text-center mb-8",children:[t.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-gradient-to-br from-cyan-500 to-teal-500 rounded-full mb-4 shadow-lg shadow-cyan-500/30",children:t.jsx(c,{className:"w-8 h-8 text-white"})}),t.jsx("h2",{className:"text-3xl font-bold text-white",children:"Reset Password"}),t.jsx("p",{className:"text-gray-400 mt-2",children:"Enter the code from your email and create a new password"})]}),M&&t.jsxs("div",{className:"mb-4 p-4 bg-red-500/10 border border-red-500/30 rounded-lg flex items-start gap-3",children:[t.jsx(a,{className:"w-5 h-5 text-red-400 flex-shrink-0 mt-0.5"}),t.jsx("p",{className:"text-sm text-red-300",children:M})]}),t.jsxs("form",{onSubmit:e=>{return t=null,s=null,a=function*(){var t,s;if(e.preventDefault(),q(""),y===v)if(y.length<8)q("Password must be at least 8 characters long");else if(/[A-Z]/.test(y))if(/[a-z]/.test(y))if(/[0-9]/.test(y)){L(!0);try{yield i.post("https://marketedgepros.com/api/v1/auth/password/reset-with-code",{email:b,code:f,new_password:y}),E(!0),setTimeout(()=>{h("/login",{state:{message:"Password reset successfully! Please login with your new password."}})},2e3)}catch(a){q((null==(s=null==(t=a.response)?void 0:t.data)?void 0:s.error)||"Password reset failed. Please check your code and try again.")}finally{L(!1)}}else q("Password must contain at least one number");else q("Password must contain at least one lowercase letter");else q("Password must contain at least one uppercase letter");else q("Passwords do not match")},new Promise((r,l)=>{var o=t=>{try{d(a.next(t))}catch(e){l(e)}},n=t=>{try{d(a.throw(t))}catch(e){l(e)}},d=e=>e.done?r(e.value):Promise.resolve(e.value).then(o,n);d((a=a.apply(t,s)).next())});var t,s,a},className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Email Address"}),t.jsxs("div",{className:"relative",children:[t.jsx(m,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),t.jsx("input",{type:"email",value:b,onChange:e=>g(e.target.value),placeholder:"you@example.com",className:"w-full pl-10 pr-4 py-3 bg-slate-900/50 border border-white/10 rounded-lg focus:ring-2 focus:ring-cyan-500 focus:border-transparent text-white placeholder-gray-500",required:!0})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"6-Digit Reset Code"}),t.jsx("input",{type:"text",value:f,onChange:e=>{const t=e.target.value.replace(/\D/g,"");t.length<=6&&(w(t),q(""))},placeholder:"000000",maxLength:"6",className:"w-full px-4 py-3 bg-slate-900/50 border border-white/10 rounded-lg focus:ring-2 focus:ring-cyan-500 focus:border-transparent text-center text-2xl tracking-widest text-white placeholder-gray-500",required:!0})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"New Password"}),t.jsxs("div",{className:"relative",children:[t.jsx(c,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),t.jsx("input",{type:k?"text":"password",value:y,onChange:e=>j(e.target.value),placeholder:"••••••••",className:"w-full pl-10 pr-12 py-3 bg-slate-900/50 border border-white/10 rounded-lg focus:ring-2 focus:ring-cyan-500 focus:border-transparent text-white placeholder-gray-500",required:!0}),t.jsx("button",{type:"button",onClick:()=>P(!k),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-300",children:k?t.jsx(u,{className:"w-5 h-5"}):t.jsx(x,{className:"w-5 h-5"})})]}),t.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Must be at least 8 characters with uppercase, lowercase, and number"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Confirm New Password"}),t.jsxs("div",{className:"relative",children:[t.jsx(c,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),t.jsx("input",{type:S?"text":"password",value:v,onChange:e=>N(e.target.value),placeholder:"••••••••",className:"w-full pl-10 pr-12 py-3 bg-slate-900/50 border border-white/10 rounded-lg focus:ring-2 focus:ring-cyan-500 focus:border-transparent text-white placeholder-gray-500",required:!0}),t.jsx("button",{type:"button",onClick:()=>C(!S),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-300",children:S?t.jsx(u,{className:"w-5 h-5"}):t.jsx(x,{className:"w-5 h-5"})})]})]}),t.jsx("button",{type:"submit",disabled:R||6!==f.length,className:"w-full bg-gradient-to-r from-cyan-500 to-teal-500 text-white py-3 px-4 rounded-lg font-semibold hover:from-cyan-600 hover:to-teal-600 transition-all shadow-lg shadow-cyan-500/30 disabled:opacity-50 disabled:cursor-not-allowed",children:R?"Resetting Password...":"Reset Password"})]}),t.jsx("div",{className:"mt-6 text-center",children:t.jsxs("p",{className:"text-sm text-gray-400",children:["Remember your password?"," ",t.jsx(n,{to:"/login",className:"text-cyan-400 hover:text-cyan-300 font-medium",children:"Sign in"})]})})]})]})})})}export{h as default};
