import{u as e,p as t,a as r,j as s,d as a}from"./index-K1_PuWBv.js";import{u as l,b as o}from"./react-vendor-DvHQdeg3.js";import i from"./UserLayout-Df_w1cXb.js";import{T as n}from"./trending-up-Vo9LtIr9.js";import{T as d}from"./trophy-DkOj4nQP.js";import{D as c}from"./dollar-sign-CF_axQeF.js";import{A as x}from"./arrow-right-DwSxJ-6E.js";import{R as m}from"./refresh-cw-DJ7rW6vo.js";import{C as g}from"./clock-Dog0XoAp.js";import"./utils-BQl1bh9w.js";function h(){const{user:h}=e(),p=l(),[u,f]=o.useState([]),[b,j]=o.useState(!0),[y,v]=o.useState({totalChallenges:0,activeChallenges:0,passedChallenges:0,totalProfit:0});o.useEffect(()=>{N()},[]);const N=()=>{return e=null,r=null,s=function*(){try{j(!0);const e=(yield t.getMyChallenges()).data.challenges||[];f(e),v({totalChallenges:e.length,activeChallenges:e.filter(e=>"active"===e.status).length,passedChallenges:e.filter(e=>"passed"===e.status).length,totalProfit:e.reduce((e,t)=>e+(t.profit||0),0)})}catch(e){}finally{j(!1)}},new Promise((t,a)=>{var l=e=>{try{i(s.next(e))}catch(t){a(t)}},o=e=>{try{i(s.throw(e))}catch(t){a(t)}},i=e=>e.done?t(e.value):Promise.resolve(e.value).then(l,o);i((s=s.apply(e,r)).next())});var e,r,s},w=e=>{switch(e){case"active":return"bg-green-100 text-green-800 border-green-200";case"passed":return"bg-blue-100 text-blue-800 border-blue-200";case"failed":return"bg-red-100 text-red-800 border-red-200";case"pending":return"bg-yellow-100 text-yellow-800 border-yellow-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},C=e=>{switch(e){case"active":case"passed":return s.jsx(r,{className:"w-4 h-4"});case"failed":return s.jsx(a,{className:"w-4 h-4"});default:return s.jsx(g,{className:"w-4 h-4"})}},P=[{title:"Total Challenges",value:y.totalChallenges,icon:n,gradient:"from-indigo-500 to-purple-600"},{title:"Active Challenges",value:y.activeChallenges,icon:d,gradient:"from-green-400 to-cyan-400"},{title:"Passed Challenges",value:y.passedChallenges,icon:r,gradient:"from-blue-400 to-cyan-400"},{title:"Total Profit",value:`$${y.totalProfit.toLocaleString()}`,icon:c,gradient:"from-pink-400 to-yellow-400"}];return s.jsx(i,{children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[s.jsxs("div",{className:"mb-8",children:[s.jsxs("h1",{className:"text-4xl font-bold text-white mb-2",children:["Welcome back, ",(null==h?void 0:h.full_name)||(null==h?void 0:h.email),"!"]}),s.jsx("p",{className:"text-gray-400",children:"Here's your trading overview"})]}),s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:P.map((e,t)=>{const r=e.icon;return s.jsxs("div",{className:"bg-gray-800 rounded-xl border border-gray-700 p-6 hover:transform hover:-translate-y-1 hover:shadow-2xl transition-all duration-300",children:[s.jsx("div",{className:"flex items-center justify-between mb-4",children:s.jsx("div",{className:`w-12 h-12 rounded-lg bg-gradient-to-br ${e.gradient} flex items-center justify-center`,children:s.jsx(r,{className:"w-6 h-6 text-white"})})}),s.jsx("h3",{className:"text-3xl font-bold text-white mb-1",children:e.value}),s.jsx("p",{className:"text-gray-400 text-sm",children:e.title})]},t)})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8",children:[s.jsxs("div",{className:"bg-gradient-to-br from-indigo-500/10 to-purple-600/10 border border-indigo-500/30 rounded-xl p-8",children:[s.jsx("h3",{className:"text-2xl font-bold text-white mb-3",children:"Start a New Challenge"}),s.jsx("p",{className:"text-gray-400 mb-6",children:"Choose from our trading programs and start your journey to get funded"}),s.jsxs("button",{onClick:()=>p("/programs"),className:"bg-gradient-to-r from-indigo-500 to-purple-600 hover:from-indigo-600 hover:to-purple-700 text-white px-6 py-3 rounded-lg font-medium transition-all duration-200 flex items-center gap-2",children:["Browse Programs",s.jsx(x,{className:"w-5 h-5"})]})]}),s.jsxs("div",{className:"bg-gradient-to-br from-green-400/10 to-cyan-400/10 border border-green-400/30 rounded-xl p-8",children:[s.jsx("h3",{className:"text-2xl font-bold text-white mb-3",children:"Complete Your Profile"}),s.jsx("p",{className:"text-gray-400 mb-6",children:"Update your information and complete KYC verification"}),s.jsxs("button",{onClick:()=>p("/profile"),className:"bg-gradient-to-r from-green-400 to-cyan-400 hover:from-green-500 hover:to-cyan-500 text-white px-6 py-3 rounded-lg font-medium transition-all duration-200 flex items-center gap-2",children:["Go to Profile",s.jsx(x,{className:"w-5 h-5"})]})]})]}),s.jsxs("div",{className:"bg-gray-800 rounded-xl border border-gray-700 overflow-hidden",children:[s.jsx("div",{className:"p-6 border-b border-gray-700",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h2",{className:"text-2xl font-bold text-white",children:"My Challenges"}),s.jsx("button",{onClick:N,className:"text-gray-400 hover:text-white transition-colors p-2 rounded-lg hover:bg-gray-700",children:s.jsx(m,{className:"w-5 h-5"})})]})}),s.jsx("div",{className:"p-6",children:b?s.jsx("div",{className:"py-8",children:s.jsx("div",{className:"w-full h-2 bg-gray-700 rounded-full overflow-hidden",children:s.jsx("div",{className:"h-full bg-gradient-to-r from-indigo-500 to-purple-600 animate-pulse"})})}):0===u.length?s.jsxs("div",{className:"text-center py-12",children:[s.jsx("p",{className:"text-gray-400 mb-6",children:"You don't have any challenges yet"}),s.jsx("button",{onClick:()=>p("/programs"),className:"bg-gradient-to-r from-indigo-500 to-purple-600 hover:from-indigo-600 hover:to-purple-700 text-white px-6 py-3 rounded-lg font-medium transition-all duration-200",children:"Start Your First Challenge"})]}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"bg-gray-700/50",children:[s.jsx("th",{className:"text-left px-4 py-3 text-gray-400 font-semibold",children:"Program"}),s.jsx("th",{className:"text-left px-4 py-3 text-gray-400 font-semibold",children:"Account Size"}),s.jsx("th",{className:"text-left px-4 py-3 text-gray-400 font-semibold",children:"Status"}),s.jsx("th",{className:"text-left px-4 py-3 text-gray-400 font-semibold",children:"Progress"}),s.jsx("th",{className:"text-left px-4 py-3 text-gray-400 font-semibold",children:"Profit"}),s.jsx("th",{className:"text-right px-4 py-3 text-gray-400 font-semibold",children:"Actions"})]})}),s.jsx("tbody",{children:u.map(e=>{var t,r;return s.jsxs("tr",{className:"border-t border-gray-700 hover:bg-gray-700/30 transition-colors",children:[s.jsx("td",{className:"px-4 py-4 text-white font-semibold",children:e.program_name}),s.jsxs("td",{className:"px-4 py-4 text-gray-300",children:["$",null==(t=e.account_size)?void 0:t.toLocaleString()]}),s.jsx("td",{className:"px-4 py-4",children:s.jsxs("span",{className:`inline-flex items-center gap-1 px-3 py-1 rounded-full text-xs font-medium border ${w(e.status)}`,children:[C(e.status),s.jsx("span",{className:"capitalize",children:e.status})]})}),s.jsx("td",{className:"px-4 py-4",children:s.jsx("div",{className:"w-24",children:s.jsx("div",{className:"h-2 bg-gray-700 rounded-full overflow-hidden",children:s.jsx("div",{className:"h-full bg-gradient-to-r from-indigo-500 to-purple-600 transition-all duration-300",style:{width:`${e.progress||0}%`}})})})}),s.jsxs("td",{className:"px-4 py-4 font-semibold "+(e.profit>=0?"text-green-400":"text-red-400"),children:["$",(null==(r=e.profit)?void 0:r.toLocaleString())||0]}),s.jsx("td",{className:"px-4 py-4 text-right",children:s.jsx("button",{onClick:()=>p(`/challenges/${e.id}`),className:"px-4 py-2 border border-indigo-500 text-indigo-400 hover:bg-indigo-500/10 rounded-lg transition-colors text-sm font-medium",children:"View Details"})})]},e.id)})})]})})})]})]})})}export{h as default};
